(this.webpackJsonpdemo3=this.webpackJsonpdemo3||[]).push([[4],{1115:function(e,a,t){"use strict";t.r(a);var n=t(0),c=t.n(n),r=t(147),l=t(495),m=t(15),o=t(11),i=t(109),u=t(14),s=t(58),d=t(38),b=t(39),p=t(1098),f=t(1114),E=t(55),v=t(13),g=Object(f.b)(p.a),O=b.d().shape({part_number:b.f().min(2,"Minimum 2 symbols").max(50,"Maximum 50 symbols").required("Part number is required"),alt_part_number:b.f().min(2,"Minimum 2 symbols").max(50,"Maximum 50 symbols").required("Alt part number is required")});function h(e){var a=e.product,t=e.btnRef,r=e.saveProduct,l=Object(n.useState)([]),o=Object(m.a)(l,2),i=o[0],b=o[1],p=Object(n.useState)([]),h=Object(m.a)(p,2),y=h[0],N=h[1],_=Object(n.useState)([]),j=Object(m.a)(_,2),S=j[0],k=j[1],q=Object(n.useState)(!1),C=Object(m.a)(q,2),x=C[0],M=C[1];function w(e){Object(v.d)("product-category",{name:e}).then((function(e){b([].concat(Object(s.a)(i),[{label:e.name,value:e.id}]))}))}function P(e){Object(v.d)("manufacturer",{name:e}).then((function(e){b([].concat(Object(s.a)(y),[{label:e.name,value:e.id}]))}))}return Object(n.useEffect)((function(){Object(v.d)("oas-models",{models:{Manufacturer:{},Supplier:{},ProductCategory:{}}}).then((function(e){var a=function(a){e.data[a].map((function(t,n){e.data[a][n].label=t.name?t.name:t.company_name,e.data[a][n].value=t.id}))};for(var t in e.data)a(t);b(e.data.ProductCategory),N(e.data.Manufacturer),k(e.data.Supplier),M(!0)}))}),[]),c.a.createElement(c.a.Fragment,null,c.a.createElement(d.c,{enableReinitialize:!0,initialValues:a,validationSchema:O,onSubmit:function(e){r(e)}},(function(e){var a=e.handleSubmit;return c.a.createElement(c.a.Fragment,null,c.a.createElement(d.b,{className:"form form-label-right"},c.a.createElement("div",{className:"form-group row"},c.a.createElement("div",{className:"col-lg-4"},c.a.createElement(d.a,{name:"part_number",component:u.f,placeholder:"e.g AB123",label:"Part Number"})),c.a.createElement("div",{className:"col-lg-4"},c.a.createElement(d.a,{name:"alt_part_number",component:u.f,placeholder:"e.g AB123",label:"Alternative Part Number"})),c.a.createElement("div",{className:"col-lg-4"},c.a.createElement("label",null,"Select Category"),c.a.createElement(g,{debounceTimeout:x?0:v.b,name:"product_category",onCreateOption:w,isClearable:!0,loadOptions:function(e,a){return Object(v.c)(e,a,i,x)}}))),c.a.createElement("div",{className:"form-group row"},c.a.createElement("div",{className:"col-lg-4"},c.a.createElement("label",null,"Select Manufacturer"),c.a.createElement(g,{debounceTimeout:x?0:v.b,isClearable:!0,name:"product_manufacturer",onCreateOption:P,loadOptions:function(e,a){return Object(v.c)(e,a,y,x)}})),c.a.createElement("div",{className:"col-lg-4"},c.a.createElement("label",null,"Select Supplier"),c.a.createElement(f.a,{debounceTimeout:x?0:v.b,isClearable:!0,name:"supplier",loadOptions:function(e,a){return Object(v.c)(e,a,S,x)}})),c.a.createElement("div",{className:"col-lg-4"},c.a.createElement(u.k,{name:"condition",label:"Condition"},E.b.map((function(e,a){return c.a.createElement("option",{key:e,value:e},e)}))))),c.a.createElement("div",{className:"form-group row"},c.a.createElement("div",{className:"col-lg-4"},c.a.createElement(d.a,{name:"quantity",component:u.f,placeholder:"Default 0",label:"Quantity"})),c.a.createElement("div",{className:"col-lg-4"},c.a.createElement(d.a,{name:"tag_date",component:u.f,placeholder:"",label:"Tag Date"})),c.a.createElement("div",{className:"col-lg-4"},c.a.createElement(d.a,{name:"turn_around_time",component:u.f,placeholder:"",label:"Turn around time"}))),c.a.createElement("div",{className:"form-group row"},c.a.createElement("div",{className:"col-lg-4"},c.a.createElement(u.k,{name:"hazmat",label:"Hazmat"},E.f.map((function(e,a){return c.a.createElement("option",{key:e,value:e},e)})))),c.a.createElement("div",{className:"col-lg-4"},c.a.createElement(d.a,{name:"certification",component:u.f,placeholder:"",label:"Certification"})),c.a.createElement("div",{className:"col-lg-4"},c.a.createElement(u.k,{name:"unit_of_measure",label:"Unit of measure"},E.e.map((function(e,a){return c.a.createElement("option",{key:e,value:e},e)}))))),c.a.createElement("div",{className:"form-group row"},c.a.createElement("div",{className:"col-lg-4"},c.a.createElement(d.a,{name:"unit_price",component:u.f,placeholder:"",label:"Unit price"})),c.a.createElement("div",{className:"col-lg-4"},c.a.createElement(u.k,{name:"hot_sale_item",label:"Hot sale item"},E.f.map((function(e,a){return c.a.createElement("option",{key:e,value:e},e)})))),c.a.createElement("div",{className:"col-lg-4"},c.a.createElement(u.k,{name:"status",label:"Status"},E.d.map((function(e,a){return c.a.createElement("option",{key:e,value:a},e)}))))),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",null,"Description"),c.a.createElement(d.a,{name:"description",as:"textarea",className:"form-control"})),c.a.createElement("button",{type:"submit",style:{display:"none"},ref:t,onSubmit:function(){return a()}})))})))}t(23),t(44);var y=Object(n.createContext)();y.Consumer;t(95),t(139),t(32);var N=t(428);N.b.actions,t(1077),t(1065),t(6),t(3);t(1071);b.d().shape({value:b.f().min(2,"Minimum 2 symbols").max(50,"Maximum 50 symbols").required("Value is required"),specId:b.c().required("Specification type is required")});var _=t(26),j=Object(n.createContext)();j.Consumer;var S=t(427);S.b.actions;b.d().shape({text:b.f().min(2,"Minimum 2 symbols").max(50,"Maximum 50 symbols").required("Text is required"),type:b.c().required("Type is required"),dueDate:b.b().nullable(!1).required("Due date is required")});var k={id:void 0,condition:"",product_manufacturer:"",supplier:"",product_category:"",part_number:"",alt_part_number:"",description:"",tag_date:"2021-12-12",status:0,hazmat:"",unit_price:0,unit_of_measure:"",quantity:0,turn_around_time:"",hot_sale_item:"",certification:""};function q(e){var a=e.history,t=e.match.params.id,r=Object(_.k)(),l=Object(n.useState)("basic"),s=Object(m.a)(l,2),d=(s[0],s[1],Object(n.useState)("")),b=Object(m.a)(d,2),p=b[0],f=b[1],E=Object(o.d)(),g=Object(o.e)((function(e){return{actionsLoading:e.products.actionsLoading,productForEdit:e.products.productForEdit}}),o.c),O=g.actionsLoading,y=g.productForEdit;Object(n.useEffect)((function(){E(i.d(t))}),[t,E]),Object(n.useEffect)((function(){var e=t?"":"New Product";y&&t&&(e="Edit product - ".concat(y.part_number)),f(e),r.setTitle(e)}),[y,t]);var N=Object(n.useRef)(),j=function(){a.push("/".concat(v.a,"/products"))};return c.a.createElement(u.a,null,O&&c.a.createElement(u.h,null),c.a.createElement(u.c,{title:p},c.a.createElement(u.d,null,c.a.createElement("button",{type:"button",onClick:j,className:"btn btn-light"},c.a.createElement("i",{className:"fa fa-arrow-left"}),"Back"),"  ",c.a.createElement("button",{className:"btn btn-light ml-2"},c.a.createElement("i",{className:"fa fa-redo"}),"Reset"),"  ",c.a.createElement("button",{type:"submit",className:"btn btn-primary ml-2",onClick:function(){N&&N.current&&N.current.click()}},"Save"))),c.a.createElement(u.b,null,c.a.createElement("div",{className:"mt-5"},c.a.createElement(h,{actionsLoading:O,product:y||k,btnRef:N,saveProduct:function(e){console.log("values",e),t?E(i.f(e)).then((function(){return j()})):E(i.a(e)).then((function(){return j()}))}}))))}function C(){return c.a.createElement(n.Suspense,{fallback:c.a.createElement(_.c,null)},c.a.createElement(r.d,null,c.a.createElement(_.a,{path:"/"+v.a+"/products/new",component:q}),c.a.createElement(_.a,{path:"/"+v.a+"/products/:id/edit",component:q}),c.a.createElement(_.a,{path:"/"+v.a+"/products",component:l.a})))}t.d(a,"default",(function(){return C}))}}]);
//# sourceMappingURL=4.da96510c.chunk.js.map