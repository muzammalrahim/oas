(this.webpackJsonpdemo3=this.webpackJsonpdemo3||[]).push([[5],{1034:function(e,t,a){"use strict";var n=a(64),c=a.n(n);var r=a(329);a.d(t,"e",(function(){return o})),a.d(t,"d",(function(){return i})),a.d(t,"b",(function(){return s})),a.d(t,"a",(function(){return u})),a.d(t,"f",(function(){return m})),a.d(t,"c",(function(){return d}));var l=r.b.actions,o=function(e,t){return function(a){return a(l.startCall({callType:r.a.list})),t?function(e,t){return c.a.post("".concat("api/specifications","find/").concat(t),{queryParams:e})}(e,t).then((function(e){var t=e.data,n=t.totalCount,c=t.entities;a(l.specificationsFetched({totalCount:n,entities:c}))})).catch((function(e){e.clientMessage="Can't find specifications",a(l.catchError({error:e,callType:r.a.list}))})):a(l.specificationsFetched({totalCount:0,entities:null}))}},i=function(e){return function(t){return e?(t(l.startCall({callType:r.a.action})),(a=e,c.a.get("".concat("api/specifications","/").concat(a))).then((function(e){var a=e.data;t(l.specificationFetched({specificationForEdit:a}))})).catch((function(e){e.clientMessage="Can't find specification",t(l.catchError({error:e,callType:r.a.action}))}))):t(l.specificationFetched({specificationForEdit:void 0}));var a}},s=function(e){return function(t){return t(l.startCall({callType:r.a.action})),(a=e,c.a.delete("".concat("api/specifications","/").concat(a))).then((function(a){t(l.specificationDeleted({id:e}))})).catch((function(e){e.clientMessage="Can't delete specification",t(l.catchError({error:e,callType:r.a.action}))}));var a}},u=function(e){return function(t){return t(l.startCall({callType:r.a.action})),(a=e,c.a.post("api/specifications",{specification:a})).then((function(e){var a=e.data.specification;t(l.specificationCreated({specification:a}))})).catch((function(e){e.clientMessage="Can't create specification",t(l.catchError({error:e,callType:r.a.action}))}));var a}},m=function(e){return function(t){return t(l.startCall({callType:r.a.action})),function(e){return c.a.put("".concat("api/specifications","/").concat(e.id),{specification:e})}(e).then((function(){t(l.specificationUpdated({specification:e}))})).catch((function(e){e.clientMessage="Can't update specification",t(l.catchError({error:e,callType:r.a.action}))}))}},d=function(e){return function(t){return t(l.startCall({callType:r.a.action})),function(e){return c.a.post("".concat("api/specifications","/deleteSpecifications"),{ids:e})}(e).then((function(){t(l.specificationsDeleted({ids:e}))})).catch((function(e){e.clientMessage="Can't delete specifications",t(l.catchError({error:e,callType:r.a.action}))}))}}},1035:function(e,t,a){"use strict";var n=a(64),c=a.n(n);var r=a(328);a.d(t,"e",(function(){return o})),a.d(t,"d",(function(){return i})),a.d(t,"b",(function(){return s})),a.d(t,"a",(function(){return u})),a.d(t,"f",(function(){return m})),a.d(t,"c",(function(){return d}));var l=r.b.actions,o=function(e,t){return function(a){return a(l.startCall({callType:r.a.list})),t?function(e,t){return c.a.post("".concat("api/remarks","find/").concat(t),{queryParams:e})}(e,t).then((function(e){var t=e.data,n=t.totalCount,c=t.entities;a(l.remarksFetched({totalCount:n,entities:c}))})).catch((function(e){e.clientMessage="Can't find remarks",a(l.catchError({error:e,callType:r.a.list}))})):a(l.remarksFetched({totalCount:0,entities:null}))}},i=function(e){return function(t){return e?(t(l.startCall({callType:r.a.action})),(a=e,c.a.get("".concat("api/remarks","/").concat(a))).then((function(e){var a=e.data;t(l.remarkFetched({remarkForEdit:a}))})).catch((function(e){e.clientMessage="Can't find remark",t(l.catchError({error:e,callType:r.a.action}))}))):t(l.remarkFetched({remarkForEdit:void 0}));var a}},s=function(e){return function(t){return t(l.startCall({callType:r.a.action})),(a=e,c.a.delete("".concat("api/remarks","/").concat(a))).then((function(a){t(l.remarkDeleted({id:e}))})).catch((function(e){e.clientMessage="Can't delete remark",t(l.catchError({error:e,callType:r.a.action}))}));var a}},u=function(e){return function(t){return t(l.startCall({callType:r.a.action})),(a=e,c.a.post("api/remarks",{remark:a})).then((function(e){var a=e.data.remark;t(l.remarkCreated({remark:a}))})).catch((function(e){e.clientMessage="Can't create remark",t(l.catchError({error:e,callType:r.a.action}))}));var a}},m=function(e){return function(t){return t(l.startCall({callType:r.a.action})),function(e){return c.a.put("".concat("api/remarks","/").concat(e.id),{remark:e})}(e).then((function(){t(l.remarkUpdated({remark:e}))})).catch((function(e){e.clientMessage="Can't update remark",t(l.catchError({error:e,callType:r.a.action}))}))}},d=function(e){return function(t){return t(l.startCall({callType:r.a.action})),function(e){return c.a.post("".concat("api/remarks","/deleteRemarks"),{ids:e})}(e).then((function(){console.log("delete return"),t(l.remarksDeleted({ids:e}))})).catch((function(e){e.clientMessage="Can't delete remarks",t(l.catchError({error:e,callType:r.a.action}))}))}}},1122:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(132),l=a(29),o=a(103);function i(){var e=Object(l.e)((function(e){return{isLoading:e.customers.listLoading}}),l.c).isLoading;return Object(n.useEffect)((function(){}),[e]),c.a.createElement(o.g,{isLoading:e,text:"Loading ..."})}var s=a(1128),u=a(30),m=a(64),d=a.n(m),p="http://127.0.0.1:8000/api/v1/customer";var f=a(409),b=f.b.actions,E=function(e){return function(t){return t(b.startCall({callType:f.a.list})),function(e){var t=e.filter;return d.a.get(p,{params:t})}(e).then((function(e){var a=e.data,n=a.count,c=a.results;t(b.customersFetched({count:n,results:c}))})).catch((function(e){e.clientMessage="Can't find customers",t(b.catchError({error:e,callType:f.a.list}))}))}},g=function(e){return function(t){return e?(t(b.startCall({callType:f.a.action})),(a=e,d.a.get("".concat(p,"/").concat(a))).then((function(e){var a=Object(u.a)(Object(u.a)({},e.data),{},{country:e.data.country?e.data.country.id:""});t(b.customerFetched({customerForEdit:a}))})).catch((function(e){e.clientMessage="Can't find customer",t(b.catchError({error:e,callType:f.a.action}))}))):t(b.customerFetched({customerForEdit:void 0}));var a}},h=function(e){return function(t){return t(b.startCall({callType:f.a.action})),(a=e,d.a.delete("".concat(p,"/").concat(a))).then((function(a){t(b.customerDeleted({id:e}))})).catch((function(e){e.clientMessage="Can't delete customer",t(b.catchError({error:e,callType:f.a.action}))}));var a}},v=function(e){return function(t){return t(b.startCall({callType:f.a.action})),(a=e,d.a.post(p+"/",Object(u.a)({},a))).then((function(e){var a=e.data;return t(b.customerCreated({customer:a})),e})).catch((function(e){return e.clientMessage="Can't create customer",t(b.catchError({error:e,callType:f.a.action})),e}));var a}},C=function(e){return function(t){return t(b.startCall({callType:f.a.action})),console.log("proudct",e),function(e){return d.a.put("".concat(p,"/").concat(e.id,"/"),Object(u.a)({},e))}(e).then((function(a){return t(b.customerUpdated({customer:e})),a})).catch((function(e){return e.clientMessage="Can't update customer",t(b.catchError({error:e,callType:f.a.action})),e}))}},y=function(e,t){return function(a){return a(b.startCall({callType:f.a.action})),function(e,t){return d.a.post("".concat(p,"/updateStatusForCustomers"),{ids:e,status:t})}(e,t).then((function(){a(b.customersStatusUpdated({ids:e,status:t}))})).catch((function(e){e.clientMessage="Can't update customers status",a(b.catchError({error:e,callType:f.a.action}))}))}},N=function(e){return function(t){return t(b.startCall({callType:f.a.action})),function(e){return d.a.post("".concat(p,"/delete-all/"),{ids:e})}(e).then((function(){t(b.customersDeleted({ids:e}))})).catch((function(e){e.clientMessage="Can't delete customers",t(b.catchError({error:e,callType:f.a.action}))}))}},O=a(15),j=a(71),k=["danger","success","info",""],D=[{dataField:"id",order:"asc"}],F=[{text:"3",value:3},{text:"5",value:5},{text:"10",value:10}],P={filter:{model:"",manufacture:"",VINCode:""},sortOrder:"asc",sortField:"VINCode",pageNumber:1,pageSize:10},S=Object(n.createContext)();function w(){return Object(n.useContext)(S)}S.Consumer;function T(e){var t=e.customersUIEvents,a=e.children,r=Object(n.useState)(P),l=Object(O.a)(r,2),o=l[0],i=l[1],s=Object(n.useState)([]),u=Object(O.a)(s,2),m=u[0],d=u[1],p=Object(n.useCallback)((function(e){i((function(t){return Object(j.isFunction)(e)&&(e=e(t)),Object(j.isEqual)(t,e)?t:e}))}),[]),f={queryParams:o,setQueryParamsBase:i,ids:m,setIds:d,setQueryParams:p,newCustomerButtonClick:t.newCustomerButtonClick,openEditCustomerPage:t.openEditCustomerPage,openDeleteCustomerDialog:t.openDeleteCustomerDialog,openDeleteCustomersDialog:t.openDeleteCustomersDialog,openFetchCustomersDialog:t.openFetchCustomersDialog,openUpdateCustomersStatusDialog:t.openUpdateCustomersStatusDialog};return c.a.createElement(S.Provider,{value:f},a)}function x(e){var t=e.id,a=e.show,r=e.onHide,i=w(),u=Object(n.useMemo)((function(){return{setIds:i.setIds,queryParams:i.queryParams}}),[i]),m=Object(l.d)(),d=Object(l.e)((function(e){return{isLoading:e.customers.actionsLoading}}),l.c).isLoading;Object(n.useEffect)((function(){t||r()}),[t]),Object(n.useEffect)((function(){}),[d,m]);return c.a.createElement(s.a,{show:a,onHide:r,"aria-labelledby":"example-modal-sizes-title-lg"},d&&c.a.createElement(o.h,{variant:"query"}),c.a.createElement(s.a.Header,{closeButton:!0},c.a.createElement(s.a.Title,{id:"example-modal-sizes-title-lg"},"Customer Delete")),c.a.createElement(s.a.Body,null,!d&&c.a.createElement("span",null,"Are you sure to permanently delete this customer?"),d&&c.a.createElement("span",null,"Customer is deleting...")),c.a.createElement(s.a.Footer,null,c.a.createElement("div",null,c.a.createElement("button",{type:"button",onClick:r,className:"btn btn-light btn-elevate"},"Cancel"),c.a.createElement(c.a.Fragment,null," "),c.a.createElement("button",{type:"button",onClick:function(){m(h(t)).then((function(){m(E(u.queryParams)),u.setIds([]),r()}))},className:"btn btn-danger btn-elevate"},"Delete"))))}function _(e){var t=e.show,a=e.onHide,r=w(),i=Object(n.useMemo)((function(){return{ids:r.ids,setIds:r.setIds,queryParams:r.queryParams}}),[r]),u=Object(l.d)(),m=Object(l.e)((function(e){return{isLoading:e.customers.actionsLoading}}),l.c).isLoading;Object(n.useEffect)((function(){}),[m,u]),Object(n.useEffect)((function(){i.ids&&0!==i.ids.length||a()}),[i.ids]);return c.a.createElement(s.a,{show:t,onHide:a,"aria-labelledby":"example-modal-sizes-title-lg"},m&&c.a.createElement(o.h,null),c.a.createElement(s.a.Header,{closeButton:!0},c.a.createElement(s.a.Title,{id:"example-modal-sizes-title-lg"},"Customers Delete")),c.a.createElement(s.a.Body,null,!m&&c.a.createElement("span",null,"Are you sure to permanently delete selected customers?"),m&&c.a.createElement("span",null,"Customers are deleting...")),c.a.createElement(s.a.Footer,null,c.a.createElement("div",null,c.a.createElement("button",{type:"button",onClick:a,className:"btn btn-light btn-elevate"},"Cancel"),c.a.createElement(c.a.Fragment,null," "),c.a.createElement("button",{type:"button",onClick:function(){u(N(i.ids)).then((function(){u(E(i.queryParams)).then((function(){i.setIds([]),a()}))}))},className:"btn btn-danger btn-elevate"},"Delete"))))}var q=function(e,t){var a=[];return t.forEach((function(t){var n=e.find((function(e){return e.id===t}));n&&a.push(n)})),a};function M(e){var t=e.show,a=e.onHide,r=w(),o=Object(n.useMemo)((function(){return{ids:r.ids,queryParams:r.queryParams}}),[r]),i=Object(l.e)((function(e){return{customers:q(e.customers.entities,o.ids)}}),l.c).customers;return Object(n.useEffect)((function(){o.ids&&0!==o.ids.length||a()}),[o.ids]),c.a.createElement(s.a,{show:t,onHide:a,"aria-labelledby":"example-modal-sizes-title-lg"},c.a.createElement(s.a.Header,{closeButton:!0},c.a.createElement(s.a.Title,{id:"example-modal-sizes-title-lg"},"Fetch selected elements")),c.a.createElement(s.a.Body,null,c.a.createElement("div",{className:"list-timeline list-timeline-skin-light padding-30"},c.a.createElement("div",{className:"list-timeline-items"},i.map((function(e){return c.a.createElement("div",{className:"list-timeline-item mb-3",key:e.id},c.a.createElement("span",{className:"list-timeline-text"},c.a.createElement("span",{className:"label label-lg label-light-".concat(k[e.status]," label-inline"),style:{width:"60px"}},"ID: ",e.id)," ",c.a.createElement("span",{className:"ml-5"},e.manufacture,", ",e.model)))}))))),c.a.createElement(s.a.Footer,null,c.a.createElement("div",null,c.a.createElement("button",{type:"button",onClick:a,className:"btn btn-light btn-elevate"},"Cancel"),c.a.createElement(c.a.Fragment,null," "),c.a.createElement("button",{type:"button",onClick:a,className:"btn btn-primary btn-elevate"},"Ok"))))}var B=function(e,t){var a=[];return t.forEach((function(t){var n=e.find((function(e){return e.id===t}));n&&a.push(n)})),a};function L(e){var t=e.show,a=e.onHide,r=w(),o=Object(n.useMemo)((function(){return{ids:r.ids,setIds:r.setIds,queryParams:r.queryParams}}),[r]),i=Object(l.e)((function(e){return{customers:B(e.customers.entities,o.ids),isLoading:e.customers.actionsLoading}}),l.c),u=i.customers,m=i.isLoading;Object(n.useEffect)((function(){(o.ids||0===o.ids.length)&&a()}),[o.ids]);var d=Object(n.useState)(0),p=Object(O.a)(d,2),f=p[0],b=p[1],g=Object(l.d)();return c.a.createElement(s.a,{show:t,onHide:a,"aria-labelledby":"example-modal-sizes-title-lg"},c.a.createElement(s.a.Header,{closeButton:!0},c.a.createElement(s.a.Title,{id:"example-modal-sizes-title-lg"},"Status has been updated for selected customers")),c.a.createElement(s.a.Body,{className:"overlay overlay-block cursor-default"},m&&c.a.createElement("div",{className:"overlay-layer bg-transparent"},c.a.createElement("div",{className:"spinner spinner-lg spinner-warning"})),c.a.createElement("div",{className:"list-timeline list-timeline-skin-light padding-30"},c.a.createElement("div",{className:"list-timeline-items"},u.map((function(e){return c.a.createElement("div",{className:"list-timeline-item mb-3",key:e.id},c.a.createElement("span",{className:"list-timeline-text"},c.a.createElement("span",{className:"label label-lg label-light-".concat(k[e.status]," label-inline"),style:{width:"60px"}},"ID: ",e.id)," ",c.a.createElement("span",{className:"ml-5"},e.manufacture,", ",e.model)))}))))),c.a.createElement(s.a.Footer,{className:"form"},c.a.createElement("div",{className:"form-group"},c.a.createElement("select",{className:"form-control ".concat(k[f]),value:f,onChange:function(e){return b(+e.target.value)}},c.a.createElement("option",{value:"0"},"Selling"),c.a.createElement("option",{value:"1"},"Sold"))),c.a.createElement("div",{className:"form-group"},c.a.createElement("button",{type:"button",onClick:a,className:"btn btn-light btn-elevate"},"Cancel"),c.a.createElement(c.a.Fragment,null," "),c.a.createElement("button",{type:"button",onClick:function(){g(y(o.ids,f)).then((function(){g(E(o.queryParams)).then((function(){o.setIds([]),a()}))}))},className:"btn btn-primary btn-elevate"},"Update Status"))))}var I=a(51);var z=a(1037),A=a.n(z),H=a(327),U=a.n(H),R=a(7),Q=a(1029),V=a(1018),Z=a(11),J=a.n(Z),W=function(e,t,a,n){var r=n.openEditCustomerPage,l=n.openDeleteCustomerDialog;return c.a.createElement(c.a.Fragment,null,c.a.createElement(Q.a,{overlay:c.a.createElement(V.a,{id:"customers-edit-tooltip"},"Edit customer")},c.a.createElement("a",{className:"btn btn-icon btn-light btn-hover-info btn-sm mx-3",onClick:function(){return r(t.id)}},c.a.createElement("span",{className:"svg-icon svg-icon-md svg-icon-info"},c.a.createElement(J.a,{src:Object(R.h)("/static/media/svg/icons/Communication/Write.svg")})))),c.a.createElement(c.a.Fragment,null," "),c.a.createElement(Q.a,{overlay:c.a.createElement(V.a,{id:"customers-delete-tooltip"},"Delete customer")},c.a.createElement("a",{className:"btn btn-icon btn-light btn-hover-danger btn-sm",onClick:function(){return l(t.id)}},c.a.createElement("span",{className:"svg-icon svg-icon-md svg-icon-danger"},c.a.createElement(J.a,{src:Object(R.h)("/static/media/svg/icons/General/Trash.svg")})))))};function G(){var e=w(),t=Object(n.useMemo)((function(){return{ids:e.ids,setIds:e.setIds,queryParams:e.queryParams,setQueryParams:e.setQueryParams,openEditCustomerPage:e.openEditCustomerPage,openDeleteCustomerDialog:e.openDeleteCustomerDialog}}),[e]),a=Object(l.e)((function(e){return{currentState:e.customers}}),l.c).currentState,r=a.totalCount,i=a.entities,s=a.listLoading,u=Object(l.d)();Object(n.useEffect)((function(){t.setIds([]),u(E(t.queryParams))}),[t.queryParams,u]);var m=[{dataField:"user.first_name",text:"First Name",sort:!0,sortCaret:R.g},{dataField:"user.last_name",text:"Last Name",sort:!0,sortCaret:R.g},{dataField:"user.email",text:"Email",sort:!0,sortCaret:R.g},{dataField:"company_name",text:"Company Name",sort:!0,sortCaret:R.g},{dataField:"contact_person",text:"Contact Person",sort:!0,sortCaret:R.g},{dataField:"landline_phone",text:"Landline Phone",sort:!0,sortCaret:R.g},{dataField:"mobile_Phone",text:"Mobile Phone",sort:!0,sortCaret:R.g},{dataField:"country.name",text:"Country",sort:!0,sortCaret:R.g},{dataField:"action",text:"Actions",formatter:W,formatExtraData:{openEditCustomerPage:t.openEditCustomerPage,openDeleteCustomerDialog:t.openDeleteCustomerDialog},classes:"text-right pr-0",headerClasses:"text-right pr-3",style:{minWidth:"100px"}}],d={custom:!0,totalSize:r,sizePerPageList:F,sizePerPage:t.queryParams.pageSize,page:t.queryParams.pageNumber};return c.a.createElement(c.a.Fragment,null,c.a.createElement(H.PaginationProvider,{pagination:U()(d)},(function(e){var a=e.paginationProps,n=e.paginationTableProps;return c.a.createElement(o.j,{isLoading:s,paginationProps:a},c.a.createElement(A.a,Object.assign({wrapperClasses:"table-responsive",classes:"table table-head-custom table-vertical-center overflow-hidden",bootstrap4:!0,bordered:!1,remote:!0,keyField:"id",data:i,columns:m,defaultSorted:D,onTableChange:Object(R.c)(t.setQueryParams),selectRow:Object(R.f)({entities:i,ids:t.ids,setIds:t.setIds})},n),c.a.createElement(R.b,{entities:i}),c.a.createElement(R.a,{entities:i})))})))}function K(){var e=w(),t=Object(n.useMemo)((function(){return{ids:e.ids,setIds:e.setIds,openDeleteCustomersDialog:e.openDeleteCustomersDialog,openFetchCustomersDialog:e.openFetchCustomersDialog,openUpdateCustomersStatusDialog:e.openUpdateCustomersStatusDialog}}),[e]);return c.a.createElement("div",{className:"form"},c.a.createElement("div",{className:"row align-items-center form-group-actions margin-top-20 margin-bottom-20"},c.a.createElement("div",{className:"col-xl-12"},c.a.createElement("div",{className:"form-group form-group-inline"},c.a.createElement("div",{className:"form-label form-label-no-wrap"},c.a.createElement("label",{className:"-font-bold font-danger-"},c.a.createElement("span",null,"Selected records count: ",c.a.createElement("b",null,t.ids.length)))),c.a.createElement("div",null,c.a.createElement("button",{type:"button",className:"btn btn-danger font-weight-bolder font-size-sm",onClick:t.openDeleteCustomersDialog},c.a.createElement("i",{className:"fa fa-trash"})," Delete All"))))))}function X(){var e=w(),t=Object(n.useMemo)((function(){return{ids:e.ids,queryParams:e.queryParams,setQueryParams:e.setQueryParams,newCustomerButtonClick:e.newCustomerButtonClick,openDeleteCustomersDialog:e.openDeleteCustomersDialog,openEditCustomerPage:e.openEditCustomerPage,openUpdateCustomersStatusDialog:e.openUpdateCustomersStatusDialog,openFetchCustomersDialog:e.openFetchCustomersDialog}}),[e]);return c.a.createElement(o.a,null,c.a.createElement(o.c,{title:"Customers"},c.a.createElement(o.d,null,c.a.createElement("button",{type:"button",className:"btn btn-info",onClick:t.newCustomerButtonClick},"Add Customer"))),c.a.createElement(o.b,null,t.ids.length>0&&c.a.createElement(c.a.Fragment,null,c.a.createElement(K,null)),c.a.createElement(G,null)))}var Y=a(20);function $(e){var t=e.history,a={newCustomerButtonClick:function(){t.push("/".concat(Y.a,"/customers/new"))},openEditCustomerPage:function(e){t.push("/".concat(Y.a,"/customers/").concat(e,"/edit"))},openDeleteCustomerDialog:function(e){t.push("/".concat(Y.a,"/customers/").concat(e,"/delete"))},openDeleteCustomersDialog:function(){t.push("/".concat(Y.a,"/customers/deleteCustomers"))},openFetchCustomersDialog:function(){t.push("/".concat(Y.a,"/customers/fetch"))},openUpdateCustomersStatusDialog:function(){t.push("/"+Y.a+"/customers/updateStatus")}};return c.a.createElement(T,{customersUIEvents:a},c.a.createElement(i,null),c.a.createElement(r.b,{path:"/"+Y.a+"/customers/deleteCustomers"},(function(e){var t=e.history,a=e.match;return c.a.createElement(_,{show:null!=a,onHide:function(){t.push("/"+Y.a+"/customers")}})})),c.a.createElement(r.b,{path:"/"+Y.a+"/customers/:id/delete"},(function(e){var t=e.history,a=e.match;return c.a.createElement(x,{show:null!=a,id:a&&a.params.id,onHide:function(){t.push("/"+Y.a+"/customers")}})})),c.a.createElement(r.b,{path:"/"+Y.a+"/customers/fetch"},(function(e){var t=e.history,a=e.match;return c.a.createElement(M,{show:null!=a,onHide:function(){t.push("/"+Y.a+"/customers")}})})),c.a.createElement(r.b,{path:"/"+Y.a+"/customers/updateStatus"},(function(e){var t=e.history,a=e.match;return c.a.createElement(L,{show:null!=a,onHide:function(){t.push("/"+Y.a+"/customers")}})})),c.a.createElement(X,null))}var ee=a(28),te=a(1040),ae=a(1041),ne=(Object(ae.b)(te.a),ee.d().shape({company_name:ee.f().min(2,"Minimum 2 symbols").max(50,"Maximum 50 symbols").required("Company Name is required"),user:ee.d({email:ee.f().min(2,"Minimum 2 symbols").max(50,"Maximum 50 symbols").required("Company Name is required")})}));function ce(e){var t=e.customer,a=e.btnRef,r=e.saveCustomer,l=Object(n.useState)([]),i=Object(O.a)(l,2),s=i[0],u=i[1],m=Object(n.useState)(!1),d=Object(O.a)(m,2),p=d[0],f=d[1];return Object(n.useEffect)((function(){Object(Y.f)("oas-models",{models:{Country:{}}}).then((function(e){var t=function(t){e.data[t].map((function(a,n){e.data[t][n].label=a.name?a.name:a.company_name,e.data[t][n].value=a.id}))};for(var a in e.data)t(a);u(e.data.Country),f(!0)}))}),[]),c.a.createElement(c.a.Fragment,null,c.a.createElement(I.c,{enableReinitialize:!0,initialValues:t,validationSchema:ne,onSubmit:function(e){r(e)}},(function(e){var t=e.handleSubmit;return c.a.createElement(c.a.Fragment,null,c.a.createElement(I.b,{className:"form form-label-right"},c.a.createElement("div",{className:"form-group row"},c.a.createElement("div",{className:"col-lg-4"},c.a.createElement(I.a,{name:"user.first_name",component:o.f,placeholder:"First Name",label:"First Name"})),c.a.createElement("div",{className:"col-lg-4"},c.a.createElement(I.a,{name:"user.last_name",component:o.f,placeholder:"Last Name",label:"Last Name"})),c.a.createElement("div",{className:"col-lg-4"},c.a.createElement(I.a,{name:"user.email",component:o.f,placeholder:"Email",label:"Email"}))),c.a.createElement("div",{className:"form-group row"},c.a.createElement("div",{className:"col-lg-4"},c.a.createElement(I.a,{name:"user.password",component:o.f,type:"password",placeholder:"Password",label:"Password"})),c.a.createElement("div",{className:"col-lg-4"},c.a.createElement(I.a,{name:"company_name",component:o.f,placeholder:"xbs",label:"Company Name"})),c.a.createElement("div",{className:"col-lg-4"},c.a.createElement(I.a,{name:"contact_person",component:o.f,placeholder:"e.g AB123",label:"Contact Person"}))),c.a.createElement("div",{className:"form-group row"},c.a.createElement("div",{className:"col-lg-4"},c.a.createElement("label",null,"Select Country"),c.a.createElement(ae.a,{debounceTimeout:p?0:Y.b,name:"country",isClearable:!0,loadOptions:function(e,t){return Object(Y.d)(e,t,s,p)}})),c.a.createElement("div",{className:"col-lg-4"},c.a.createElement(I.a,{name:"landline_phone",component:o.f,placeholder:"041457078",label:"Landline Phone"})),c.a.createElement("div",{className:"col-lg-4"},c.a.createElement(I.a,{name:"mobile_Phone",component:o.f,placeholder:"Mobile Phone",label:"Mobile Phone"}))),c.a.createElement("button",{type:"submit",style:{display:"none"},ref:a,onSubmit:function(){return t()}})))})))}Object(ae.b)(te.a);var re=ee.d().shape({billingcontact:ee.d().shape({company_name:ee.f().min(2,"Minimum 2 symbols").max(50,"Maximum 50 symbols").required("Company Name is required"),email:ee.f().min(2,"Minimum 2 symbols").max(50,"Maximum 50 symbols").required("Email  is required")})});function le(e){var t=e.customer,a=e.btnRef,r=e.saveCustomer,l=Object(n.useState)([]),i=Object(O.a)(l,2),s=i[0],u=i[1],m=Object(n.useState)(!1),d=Object(O.a)(m,2),p=d[0],f=d[1];return Object(n.useEffect)((function(){Object(Y.f)("oas-models",{models:{Country:{}}}).then((function(e){var t=function(t){e.data[t].map((function(a,n){e.data[t][n].label=a.name?a.name:a.company_name,e.data[t][n].value=a.id}))};for(var a in e.data)t(a);u(e.data.Country),f(!0)}))}),[]),c.a.createElement(c.a.Fragment,null,c.a.createElement(I.c,{enableReinitialize:!0,initialValues:t,validationSchema:re,onSubmit:function(e){r(e)}},(function(e){var t=e.handleSubmit;return c.a.createElement(c.a.Fragment,null,c.a.createElement(I.b,{className:"form form-label-right"},c.a.createElement("div",{className:"form-group row"},c.a.createElement("div",{className:"col-lg-4"},c.a.createElement(I.a,{name:"billingcontact.email",component:o.f,placeholder:"Email",label:"Email"})),c.a.createElement("div",{className:"col-lg-4"},c.a.createElement(I.a,{name:"billingcontact.company_name",component:o.f,placeholder:"xbs",label:"Company Name"})),c.a.createElement("div",{className:"col-lg-4"},c.a.createElement(I.a,{name:"billingcontact.contact_person",component:o.f,placeholder:"e.g AB123",label:"Contact Person"}))),c.a.createElement("div",{className:"form-group row"},c.a.createElement("div",{className:"col-lg-4"},c.a.createElement(I.a,{name:"billingcontact.bill_address_one",component:o.f,placeholder:"Bill Address ",label:"Bill Address One"})),c.a.createElement("div",{className:"col-lg-4"},c.a.createElement(I.a,{name:"billingcontact.bill_address_two",component:o.f,placeholder:"Bill Address ",label:"Bill Address Two"})),c.a.createElement("div",{className:"col-lg-4"},c.a.createElement(I.a,{name:"billingcontact.zip_code",component:o.f,placeholder:"Zip Code ",label:"Zip Code"}))),c.a.createElement("div",{className:"form-group row"},c.a.createElement("div",{className:"col-lg-4"},c.a.createElement("label",null,"Select Country"),c.a.createElement(ae.a,{debounceTimeout:p?0:Y.b,name:"billingcontact.country",isClearable:!0,loadOptions:function(e,t){return Object(Y.d)(e,t,s,p)}}))),c.a.createElement("button",{type:"submit",style:{display:"none"},ref:a,onSubmit:function(){return t()}})))})))}Object(ae.b)(te.a);var oe=ee.d().shape({});function ie(e){var t=e.customer,a=e.btnRef,r=e.saveCustomer,l=Object(n.useState)([]),i=Object(O.a)(l,2),s=i[0],u=i[1],m=Object(n.useState)(!1),d=Object(O.a)(m,2),p=d[0],f=d[1];return Object(n.useEffect)((function(){Object(Y.f)("oas-models",{models:{Country:{}}}).then((function(e){var t=function(t){e.data[t].map((function(a,n){e.data[t][n].label=a.name?a.name:a.company_name,e.data[t][n].value=a.id}))};for(var a in e.data)t(a);u(e.data.Country),f(!0)}))}),[]),c.a.createElement(c.a.Fragment,null,c.a.createElement(I.c,{enableReinitialize:!0,initialValues:t,validationSchema:oe,onSubmit:function(e){r(e)}},(function(e){var t=e.handleSubmit;return c.a.createElement(c.a.Fragment,null,c.a.createElement(I.b,{className:"form form-label-right"},c.a.createElement("div",{className:"form-group row"},c.a.createElement("div",{className:"col-lg-4"},c.a.createElement(I.a,{name:"shippingcontact.email",component:o.f,placeholder:"Email",label:"Email"})),c.a.createElement("div",{className:"col-lg-4"},c.a.createElement(I.a,{name:"shippingcontact.company_name",component:o.f,placeholder:"xbs",label:"Company Name"})),c.a.createElement("div",{className:"col-lg-4"},c.a.createElement(I.a,{name:"shippingcontact.contact_person",component:o.f,placeholder:"e.g AB123",label:"Contact Person"}))),c.a.createElement("div",{className:"form-group row"},c.a.createElement("div",{className:"col-lg-4"},c.a.createElement(I.a,{name:"shippingcontact.bill_address_one",component:o.f,placeholder:"Bill Address ",label:"Bill Address One"})),c.a.createElement("div",{className:"col-lg-4"},c.a.createElement(I.a,{name:"shippingcontact.bill_address_two",component:o.f,placeholder:"Bill Address ",label:"Bill Address Two"})),c.a.createElement("div",{className:"col-lg-4"},c.a.createElement(I.a,{name:"shippingcontact.zip_code",component:o.f,placeholder:"Zip Code ",label:"Zip Code"}))),c.a.createElement("div",{className:"form-group row"},c.a.createElement("div",{className:"col-lg-4"},c.a.createElement("label",null,"Select Country"),c.a.createElement(ae.a,{debounceTimeout:p?0:Y.b,name:"shippingcontact.country",isClearable:!0,loadOptions:function(e,t){return Object(Y.d)(e,t,s,p)}}))),c.a.createElement("button",{type:"submit",style:{display:"none"},ref:a,onSubmit:function(){return t()}})))})))}var se=Object(n.createContext)();se.Consumer;a(1034);ee.d().shape({value:ee.f().min(2,"Minimum 2 symbols").max(50,"Maximum 50 symbols").required("Value is required"),specId:ee.c().required("Specification type is required")});var ue=a(18),me=Object(n.createContext)();me.Consumer;a(1035);ee.d().shape({text:ee.f().min(2,"Minimum 2 symbols").max(50,"Maximum 50 symbols").required("Text is required"),type:ee.c().required("Type is required"),dueDate:ee.b().nullable(!1).required("Due date is required")});var de={id:void 0,user:{first_name:"",last_name:"",email:"",password:""},company_name:"",contact_person:"",country:"",landline_phone:"",mobile_Phone:"",billingcontact:{email:"",company_name:"",contact_person:"",bill_address_one:"",bill_address_two:"",zip_code:"",country:""},shippingcontact:{email:"",company_name:"",contact_person:"",bill_address_one:"",bill_address_two:"",zip_code:"",country:""}};function pe(e){var t=e.history,a=e.match.params.id,r=Object(ue.k)(),i=Object(n.useState)("basic"),s=Object(O.a)(i,2),u=s[0],m=s[1],d=Object(n.useState)(""),p=Object(O.a)(d,2),f=p[0],b=p[1],E=Object(n.useState)(de),h=Object(O.a)(E,2),y=h[0],N=h[1],j=Object(n.useState)(!1),k=Object(O.a)(j,2),D=k[0],F=k[1],P=Object(l.d)(),S=Object(l.e)((function(e){return{actionsLoading:e.customers.actionsLoading,customerForEdit:e.customers.customerForEdit}}),l.c),w=S.actionsLoading,T=S.customerForEdit;Object(n.useEffect)((function(){P(g(a))}),[a,P]),Object(n.useEffect)((function(){var e=a?"":"New Customer";T&&a&&(e="Edit customer - ".concat(T.part_number)),b(e),r.setTitle(e)}),[T,a]);var x=function(e){console.log("values",e),N(e),D&&(a?P(C(e)).then((function(e){200===e.status?M():alert("Some data missing")})):P(v(e)).then((function(e){201===e.status?M():alert("Some data missing")})))},_=Object(n.useRef)(),q=function(){_&&_.current&&(_.current.click(),console.log("page saved"))},M=function(){t.push("/".concat(Y.a,"/customers"))};return c.a.createElement(o.a,null,w&&c.a.createElement(o.h,null),c.a.createElement(o.c,{title:f},c.a.createElement(o.d,null,c.a.createElement("button",{type:"button",onClick:M,className:"btn btn-light"},c.a.createElement("i",{className:"fa fa-arrow-left"}),"Back"),"  ",c.a.createElement("button",{className:"btn btn-light ml-2"},c.a.createElement("i",{className:"fa fa-redo"}),"Reset"),"  ",c.a.createElement("button",{type:"submit",className:"btn btn-info ml-2",onClick:function(){F(!0),q()}},"Save"))),c.a.createElement(o.b,null,c.a.createElement("ul",{className:"nav nav-tabs nav-tabs-line ",role:"tablist"},c.a.createElement("li",{className:"nav-item",onClick:function(){m("basic"),F(!1),q()}},c.a.createElement("a",{className:"nav-link ".concat("basic"===u&&"active"),"data-toggle":"tab",role:"tab","aria-selected":("basic"===u).toString()},"Basic info")),c.a.createElement("li",{className:"nav-item",onClick:function(){m("billing"),F(!1),q()}},c.a.createElement("a",{className:"nav-link ".concat("billing"===u&&"active"),"data-toggle":"tab",role:"button","aria-selected":("billing"===u).toString()},"Billing Contact")),c.a.createElement("li",{className:"nav-item",onClick:function(){m("shipping"),F(!1),q()}},c.a.createElement("a",{className:"nav-link ".concat("shipping"===u&&"active"),"data-toggle":"tab",role:"tab","aria-selected":("shipping"===u).toString()},"Shipping Contact"))),c.a.createElement("div",{className:"mt-5"},"basic"===u&&c.a.createElement(ce,{actionsLoading:w,customer:T||y,btnRef:_,saveCustomer:x}),"billing"===u&&c.a.createElement(le,{actionsLoading:w,customer:T||y,btnRef:_,saveCustomer:x}),"shipping"===u&&c.a.createElement(ie,{actionsLoading:w,customer:T||y,btnRef:_,saveCustomer:x}))))}function fe(){return c.a.createElement(n.Suspense,{fallback:c.a.createElement(ue.c,null)},c.a.createElement(r.d,null,c.a.createElement(ue.a,{path:"/"+Y.a+"/customers/new",component:pe}),c.a.createElement(ue.a,{path:"/"+Y.a+"/customers/:id/edit",component:pe}),c.a.createElement(ue.a,{path:"/"+Y.a+"/customers",component:$})))}a.d(t,"default",(function(){return fe}))}}]);
//# sourceMappingURL=5.2e39dac4.chunk.js.map