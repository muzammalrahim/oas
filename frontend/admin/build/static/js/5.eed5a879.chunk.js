(this.webpackJsonpdemo3=this.webpackJsonpdemo3||[]).push([[5],{1031:function(e,t,a){"use strict";var n=a(63),r=a.n(n);var c=a(330);a.d(t,"e",(function(){return s})),a.d(t,"d",(function(){return l})),a.d(t,"b",(function(){return i})),a.d(t,"a",(function(){return u})),a.d(t,"f",(function(){return m})),a.d(t,"c",(function(){return d}));var o=c.b.actions,s=function(e,t){return function(a){return a(o.startCall({callType:c.a.list})),t?function(e,t){return r.a.post("".concat("api/specifications","find/").concat(t),{queryParams:e})}(e,t).then((function(e){var t=e.data,n=t.totalCount,r=t.entities;a(o.specificationsFetched({totalCount:n,entities:r}))})).catch((function(e){e.clientMessage="Can't find specifications",a(o.catchError({error:e,callType:c.a.list}))})):a(o.specificationsFetched({totalCount:0,entities:null}))}},l=function(e){return function(t){return e?(t(o.startCall({callType:c.a.action})),(a=e,r.a.get("".concat("api/specifications","/").concat(a))).then((function(e){var a=e.data;t(o.specificationFetched({specificationForEdit:a}))})).catch((function(e){e.clientMessage="Can't find specification",t(o.catchError({error:e,callType:c.a.action}))}))):t(o.specificationFetched({specificationForEdit:void 0}));var a}},i=function(e){return function(t){return t(o.startCall({callType:c.a.action})),(a=e,r.a.delete("".concat("api/specifications","/").concat(a))).then((function(a){t(o.specificationDeleted({id:e}))})).catch((function(e){e.clientMessage="Can't delete specification",t(o.catchError({error:e,callType:c.a.action}))}));var a}},u=function(e){return function(t){return t(o.startCall({callType:c.a.action})),(a=e,r.a.post("api/specifications",{specification:a})).then((function(e){var a=e.data.specification;t(o.specificationCreated({specification:a}))})).catch((function(e){e.clientMessage="Can't create specification",t(o.catchError({error:e,callType:c.a.action}))}));var a}},m=function(e){return function(t){return t(o.startCall({callType:c.a.action})),function(e){return r.a.put("".concat("api/specifications","/").concat(e.id),{specification:e})}(e).then((function(){t(o.specificationUpdated({specification:e}))})).catch((function(e){e.clientMessage="Can't update specification",t(o.catchError({error:e,callType:c.a.action}))}))}},d=function(e){return function(t){return t(o.startCall({callType:c.a.action})),function(e){return r.a.post("".concat("api/specifications","/deleteSpecifications"),{ids:e})}(e).then((function(){t(o.specificationsDeleted({ids:e}))})).catch((function(e){e.clientMessage="Can't delete specifications",t(o.catchError({error:e,callType:c.a.action}))}))}}},1032:function(e,t,a){"use strict";var n=a(63),r=a.n(n);var c=a(329);a.d(t,"e",(function(){return s})),a.d(t,"d",(function(){return l})),a.d(t,"b",(function(){return i})),a.d(t,"a",(function(){return u})),a.d(t,"f",(function(){return m})),a.d(t,"c",(function(){return d}));var o=c.b.actions,s=function(e,t){return function(a){return a(o.startCall({callType:c.a.list})),t?function(e,t){return r.a.post("".concat("api/remarks","find/").concat(t),{queryParams:e})}(e,t).then((function(e){var t=e.data,n=t.totalCount,r=t.entities;a(o.remarksFetched({totalCount:n,entities:r}))})).catch((function(e){e.clientMessage="Can't find remarks",a(o.catchError({error:e,callType:c.a.list}))})):a(o.remarksFetched({totalCount:0,entities:null}))}},l=function(e){return function(t){return e?(t(o.startCall({callType:c.a.action})),(a=e,r.a.get("".concat("api/remarks","/").concat(a))).then((function(e){var a=e.data;t(o.remarkFetched({remarkForEdit:a}))})).catch((function(e){e.clientMessage="Can't find remark",t(o.catchError({error:e,callType:c.a.action}))}))):t(o.remarkFetched({remarkForEdit:void 0}));var a}},i=function(e){return function(t){return t(o.startCall({callType:c.a.action})),(a=e,r.a.delete("".concat("api/remarks","/").concat(a))).then((function(a){t(o.remarkDeleted({id:e}))})).catch((function(e){e.clientMessage="Can't delete remark",t(o.catchError({error:e,callType:c.a.action}))}));var a}},u=function(e){return function(t){return t(o.startCall({callType:c.a.action})),(a=e,r.a.post("api/remarks",{remark:a})).then((function(e){var a=e.data.remark;t(o.remarkCreated({remark:a}))})).catch((function(e){e.clientMessage="Can't create remark",t(o.catchError({error:e,callType:c.a.action}))}));var a}},m=function(e){return function(t){return t(o.startCall({callType:c.a.action})),function(e){return r.a.put("".concat("api/remarks","/").concat(e.id),{remark:e})}(e).then((function(){t(o.remarkUpdated({remark:e}))})).catch((function(e){e.clientMessage="Can't update remark",t(o.catchError({error:e,callType:c.a.action}))}))}},d=function(e){return function(t){return t(o.startCall({callType:c.a.action})),function(e){return r.a.post("".concat("api/remarks","/deleteRemarks"),{ids:e})}(e).then((function(){console.log("delete return"),t(o.remarksDeleted({ids:e}))})).catch((function(e){e.clientMessage="Can't delete remarks",t(o.catchError({error:e,callType:c.a.action}))}))}}},1120:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(132),o=a(47),s=a(150);function l(){var e=Object(o.e)((function(e){return{isLoading:e.customers.listLoading}}),o.c).isLoading;return Object(n.useEffect)((function(){}),[e]),r.a.createElement(s.g,{isLoading:e,text:"Loading ..."})}var i=a(1125),u=a(28),m=a(63),d=a.n(m),f="https://shop.oas.aero/api/v1/customer";var p=a(408),b=p.b.actions,E=function(e){return function(t){return t(b.startCall({callType:p.a.list})),function(e){var t=e.filter;return d.a.get(f,{params:t})}(e).then((function(e){var a=e.data,n=a.count,r=a.results;t(b.customersFetched({count:n,results:r}))})).catch((function(e){e.clientMessage="Can't find customers",t(b.catchError({error:e,callType:p.a.list}))}))}},h=function(e){return function(t){return e?(t(b.startCall({callType:p.a.action})),(a=e,d.a.get("".concat(f,"/").concat(a))).then((function(e){var a=Object(u.a)(Object(u.a)({},e.data),{},{country:e.data.country?e.data.country.id:""});t(b.customerFetched({customerForEdit:a}))})).catch((function(e){e.clientMessage="Can't find customer",t(b.catchError({error:e,callType:p.a.action}))}))):t(b.customerFetched({customerForEdit:void 0}));var a}},g=function(e){return function(t){return t(b.startCall({callType:p.a.action})),(a=e,d.a.delete("".concat(f,"/").concat(a))).then((function(a){t(b.customerDeleted({id:e}))})).catch((function(e){e.clientMessage="Can't delete customer",t(b.catchError({error:e,callType:p.a.action}))}));var a}},C=function(e){return function(t){return t(b.startCall({callType:p.a.action})),(a=e,d.a.post(f+"/",Object(u.a)({},a))).then((function(e){var a=e.data;t(b.customerCreated({customer:a}))})).catch((function(e){e.clientMessage="Can't create customer",t(b.catchError({error:e,callType:p.a.action}))}));var a}},v=function(e){return function(t){return t(b.startCall({callType:p.a.action})),console.log("proudct",e),function(e){return d.a.put("".concat(f,"/").concat(e.id,"/"),Object(u.a)({},e))}(e).then((function(){t(b.customerUpdated({customer:e}))})).catch((function(e){e.clientMessage="Can't update customer",t(b.catchError({error:e,callType:p.a.action}))}))}},y=function(e,t){return function(a){return a(b.startCall({callType:p.a.action})),function(e,t){return d.a.post("".concat(f,"/updateStatusForCustomers"),{ids:e,status:t})}(e,t).then((function(){a(b.customersStatusUpdated({ids:e,status:t}))})).catch((function(e){e.clientMessage="Can't update customers status",a(b.catchError({error:e,callType:p.a.action}))}))}},O=function(e){return function(t){return t(b.startCall({callType:p.a.action})),function(e){return d.a.post("".concat(f,"/delete-all/"),{ids:e})}(e).then((function(){t(b.customersDeleted({ids:e}))})).catch((function(e){e.clientMessage="Can't delete customers",t(b.catchError({error:e,callType:p.a.action}))}))}},j=a(16),N=a(70),D=["danger","success","info",""],k=[{dataField:"id",order:"asc"}],P=[{text:"3",value:3},{text:"5",value:5},{text:"10",value:10}],F={filter:{model:"",manufacture:"",VINCode:""},sortOrder:"asc",sortField:"VINCode",pageNumber:1,pageSize:10},T=Object(n.createContext)();function x(){return Object(n.useContext)(T)}T.Consumer;function w(e){var t=e.customersUIEvents,a=e.children,c=Object(n.useState)(F),o=Object(j.a)(c,2),s=o[0],l=o[1],i=Object(n.useState)([]),u=Object(j.a)(i,2),m=u[0],d=u[1],f=Object(n.useCallback)((function(e){l((function(t){return Object(N.isFunction)(e)&&(e=e(t)),Object(N.isEqual)(t,e)?t:e}))}),[]),p={queryParams:s,setQueryParamsBase:l,ids:m,setIds:d,setQueryParams:f,newCustomerButtonClick:t.newCustomerButtonClick,openEditCustomerPage:t.openEditCustomerPage,openDeleteCustomerDialog:t.openDeleteCustomerDialog,openDeleteCustomersDialog:t.openDeleteCustomersDialog,openFetchCustomersDialog:t.openFetchCustomersDialog,openUpdateCustomersStatusDialog:t.openUpdateCustomersStatusDialog};return r.a.createElement(T.Provider,{value:p},a)}function S(e){var t=e.id,a=e.show,c=e.onHide,l=x(),u=Object(n.useMemo)((function(){return{setIds:l.setIds,queryParams:l.queryParams}}),[l]),m=Object(o.d)(),d=Object(o.e)((function(e){return{isLoading:e.customers.actionsLoading}}),o.c).isLoading;Object(n.useEffect)((function(){t||c()}),[t]),Object(n.useEffect)((function(){}),[d,m]);return r.a.createElement(i.a,{show:a,onHide:c,"aria-labelledby":"example-modal-sizes-title-lg"},d&&r.a.createElement(s.h,{variant:"query"}),r.a.createElement(i.a.Header,{closeButton:!0},r.a.createElement(i.a.Title,{id:"example-modal-sizes-title-lg"},"Customer Delete")),r.a.createElement(i.a.Body,null,!d&&r.a.createElement("span",null,"Are you sure to permanently delete this customer?"),d&&r.a.createElement("span",null,"Customer is deleting...")),r.a.createElement(i.a.Footer,null,r.a.createElement("div",null,r.a.createElement("button",{type:"button",onClick:c,className:"btn btn-light btn-elevate"},"Cancel"),r.a.createElement(r.a.Fragment,null," "),r.a.createElement("button",{type:"button",onClick:function(){m(g(t)).then((function(){m(E(u.queryParams)),u.setIds([]),c()}))},className:"btn btn-danger btn-elevate"},"Delete"))))}function q(e){var t=e.show,a=e.onHide,c=x(),l=Object(n.useMemo)((function(){return{ids:c.ids,setIds:c.setIds,queryParams:c.queryParams}}),[c]),u=Object(o.d)(),m=Object(o.e)((function(e){return{isLoading:e.customers.actionsLoading}}),o.c).isLoading;Object(n.useEffect)((function(){}),[m,u]),Object(n.useEffect)((function(){l.ids&&0!==l.ids.length||a()}),[l.ids]);return r.a.createElement(i.a,{show:t,onHide:a,"aria-labelledby":"example-modal-sizes-title-lg"},m&&r.a.createElement(s.h,null),r.a.createElement(i.a.Header,{closeButton:!0},r.a.createElement(i.a.Title,{id:"example-modal-sizes-title-lg"},"Customers Delete")),r.a.createElement(i.a.Body,null,!m&&r.a.createElement("span",null,"Are you sure to permanently delete selected customers?"),m&&r.a.createElement("span",null,"Customers are deleting...")),r.a.createElement(i.a.Footer,null,r.a.createElement("div",null,r.a.createElement("button",{type:"button",onClick:a,className:"btn btn-light btn-elevate"},"Cancel"),r.a.createElement(r.a.Fragment,null," "),r.a.createElement("button",{type:"button",onClick:function(){u(O(l.ids)).then((function(){u(E(l.queryParams)).then((function(){l.setIds([]),a()}))}))},className:"btn btn-danger btn-elevate"},"Delete"))))}var M=function(e,t){var a=[];return t.forEach((function(t){var n=e.find((function(e){return e.id===t}));n&&a.push(n)})),a};function _(e){var t=e.show,a=e.onHide,c=x(),s=Object(n.useMemo)((function(){return{ids:c.ids,queryParams:c.queryParams}}),[c]),l=Object(o.e)((function(e){return{customers:M(e.customers.entities,s.ids)}}),o.c).customers;return Object(n.useEffect)((function(){s.ids&&0!==s.ids.length||a()}),[s.ids]),r.a.createElement(i.a,{show:t,onHide:a,"aria-labelledby":"example-modal-sizes-title-lg"},r.a.createElement(i.a.Header,{closeButton:!0},r.a.createElement(i.a.Title,{id:"example-modal-sizes-title-lg"},"Fetch selected elements")),r.a.createElement(i.a.Body,null,r.a.createElement("div",{className:"list-timeline list-timeline-skin-light padding-30"},r.a.createElement("div",{className:"list-timeline-items"},l.map((function(e){return r.a.createElement("div",{className:"list-timeline-item mb-3",key:e.id},r.a.createElement("span",{className:"list-timeline-text"},r.a.createElement("span",{className:"label label-lg label-light-".concat(D[e.status]," label-inline"),style:{width:"60px"}},"ID: ",e.id)," ",r.a.createElement("span",{className:"ml-5"},e.manufacture,", ",e.model)))}))))),r.a.createElement(i.a.Footer,null,r.a.createElement("div",null,r.a.createElement("button",{type:"button",onClick:a,className:"btn btn-light btn-elevate"},"Cancel"),r.a.createElement(r.a.Fragment,null," "),r.a.createElement("button",{type:"button",onClick:a,className:"btn btn-primary btn-elevate"},"Ok"))))}var I=function(e,t){var a=[];return t.forEach((function(t){var n=e.find((function(e){return e.id===t}));n&&a.push(n)})),a};function L(e){var t=e.show,a=e.onHide,c=x(),s=Object(n.useMemo)((function(){return{ids:c.ids,setIds:c.setIds,queryParams:c.queryParams}}),[c]),l=Object(o.e)((function(e){return{customers:I(e.customers.entities,s.ids),isLoading:e.customers.actionsLoading}}),o.c),u=l.customers,m=l.isLoading;Object(n.useEffect)((function(){(s.ids||0===s.ids.length)&&a()}),[s.ids]);var d=Object(n.useState)(0),f=Object(j.a)(d,2),p=f[0],b=f[1],h=Object(o.d)();return r.a.createElement(i.a,{show:t,onHide:a,"aria-labelledby":"example-modal-sizes-title-lg"},r.a.createElement(i.a.Header,{closeButton:!0},r.a.createElement(i.a.Title,{id:"example-modal-sizes-title-lg"},"Status has been updated for selected customers")),r.a.createElement(i.a.Body,{className:"overlay overlay-block cursor-default"},m&&r.a.createElement("div",{className:"overlay-layer bg-transparent"},r.a.createElement("div",{className:"spinner spinner-lg spinner-warning"})),r.a.createElement("div",{className:"list-timeline list-timeline-skin-light padding-30"},r.a.createElement("div",{className:"list-timeline-items"},u.map((function(e){return r.a.createElement("div",{className:"list-timeline-item mb-3",key:e.id},r.a.createElement("span",{className:"list-timeline-text"},r.a.createElement("span",{className:"label label-lg label-light-".concat(D[e.status]," label-inline"),style:{width:"60px"}},"ID: ",e.id)," ",r.a.createElement("span",{className:"ml-5"},e.manufacture,", ",e.model)))}))))),r.a.createElement(i.a.Footer,{className:"form"},r.a.createElement("div",{className:"form-group"},r.a.createElement("select",{className:"form-control ".concat(D[p]),value:p,onChange:function(e){return b(+e.target.value)}},r.a.createElement("option",{value:"0"},"Selling"),r.a.createElement("option",{value:"1"},"Sold"))),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{type:"button",onClick:a,className:"btn btn-light btn-elevate"},"Cancel"),r.a.createElement(r.a.Fragment,null," "),r.a.createElement("button",{type:"button",onClick:function(){h(y(s.ids,p)).then((function(){h(E(s.queryParams)).then((function(){s.setIds([]),a()}))}))},className:"btn btn-primary btn-elevate"},"Update Status"))))}var B=a(69);var H=a(1034),z=a.n(H),U=a(328),A=a.n(U),Q=a(3),R=a(1026),V=a(1015),J=a(7),W=a.n(J),G=function(e,t,a,n){var c=n.openEditCustomerPage,o=n.openDeleteCustomerDialog;return r.a.createElement(r.a.Fragment,null,r.a.createElement(R.a,{overlay:r.a.createElement(V.a,{id:"customers-edit-tooltip"},"Edit customer")},r.a.createElement("a",{className:"btn btn-icon btn-light btn-hover-info btn-sm mx-3",onClick:function(){return c(t.id)}},r.a.createElement("span",{className:"svg-icon svg-icon-md svg-icon-info"},r.a.createElement(W.a,{src:Object(Q.h)("/static/media/svg/icons/Communication/Write.svg")})))),r.a.createElement(r.a.Fragment,null," "),r.a.createElement(R.a,{overlay:r.a.createElement(V.a,{id:"customers-delete-tooltip"},"Delete customer")},r.a.createElement("a",{className:"btn btn-icon btn-light btn-hover-danger btn-sm",onClick:function(){return o(t.id)}},r.a.createElement("span",{className:"svg-icon svg-icon-md svg-icon-danger"},r.a.createElement(W.a,{src:Object(Q.h)("/static/media/svg/icons/General/Trash.svg")})))))};function K(){var e=x(),t=Object(n.useMemo)((function(){return{ids:e.ids,setIds:e.setIds,queryParams:e.queryParams,setQueryParams:e.setQueryParams,openEditCustomerPage:e.openEditCustomerPage,openDeleteCustomerDialog:e.openDeleteCustomerDialog}}),[e]),a=Object(o.e)((function(e){return{currentState:e.customers}}),o.c).currentState,c=a.totalCount,l=a.entities,i=a.listLoading,u=Object(o.d)();Object(n.useEffect)((function(){t.setIds([]),u(E(t.queryParams))}),[t.queryParams,u]);var m=[{dataField:"company_name",text:"Company Name",sort:!0,sortCaret:Q.g},{dataField:"contact_person",text:"Contact Person",sort:!0,sortCaret:Q.g},{dataField:"landline_phone",text:"Landline Phone",sort:!0,sortCaret:Q.g},{dataField:"mobile_Phone",text:"Mobile Phone",sort:!0,sortCaret:Q.g},{dataField:"country.name",text:"Country",sort:!0,sortCaret:Q.g},{dataField:"action",text:"Actions",formatter:G,formatExtraData:{openEditCustomerPage:t.openEditCustomerPage,openDeleteCustomerDialog:t.openDeleteCustomerDialog},classes:"text-right pr-0",headerClasses:"text-right pr-3",style:{minWidth:"100px"}}],d={custom:!0,totalSize:c,sizePerPageList:P,sizePerPage:t.queryParams.pageSize,page:t.queryParams.pageNumber};return r.a.createElement(r.a.Fragment,null,r.a.createElement(U.PaginationProvider,{pagination:A()(d)},(function(e){var a=e.paginationProps,n=e.paginationTableProps;return r.a.createElement(s.j,{isLoading:i,paginationProps:a},r.a.createElement(z.a,Object.assign({wrapperClasses:"table-responsive",classes:"table table-head-custom table-vertical-center overflow-hidden",bootstrap4:!0,bordered:!1,remote:!0,keyField:"id",data:l,columns:m,defaultSorted:k,onTableChange:Object(Q.c)(t.setQueryParams),selectRow:Object(Q.f)({entities:l,ids:t.ids,setIds:t.setIds})},n),r.a.createElement(Q.b,{entities:l}),r.a.createElement(Q.a,{entities:l})))})))}function X(){var e=x(),t=Object(n.useMemo)((function(){return{ids:e.ids,setIds:e.setIds,openDeleteCustomersDialog:e.openDeleteCustomersDialog,openFetchCustomersDialog:e.openFetchCustomersDialog,openUpdateCustomersStatusDialog:e.openUpdateCustomersStatusDialog}}),[e]);return r.a.createElement("div",{className:"form"},r.a.createElement("div",{className:"row align-items-center form-group-actions margin-top-20 margin-bottom-20"},r.a.createElement("div",{className:"col-xl-12"},r.a.createElement("div",{className:"form-group form-group-inline"},r.a.createElement("div",{className:"form-label form-label-no-wrap"},r.a.createElement("label",{className:"-font-bold font-danger-"},r.a.createElement("span",null,"Selected records count: ",r.a.createElement("b",null,t.ids.length)))),r.a.createElement("div",null,r.a.createElement("button",{type:"button",className:"btn btn-danger font-weight-bolder font-size-sm",onClick:t.openDeleteCustomersDialog},r.a.createElement("i",{className:"fa fa-trash"})," Delete All"))))))}function Y(){var e=x(),t=Object(n.useMemo)((function(){return{ids:e.ids,queryParams:e.queryParams,setQueryParams:e.setQueryParams,newCustomerButtonClick:e.newCustomerButtonClick,openDeleteCustomersDialog:e.openDeleteCustomersDialog,openEditCustomerPage:e.openEditCustomerPage,openUpdateCustomersStatusDialog:e.openUpdateCustomersStatusDialog,openFetchCustomersDialog:e.openFetchCustomersDialog}}),[e]);return r.a.createElement(s.a,null,r.a.createElement(s.c,{title:"Customers"},r.a.createElement(s.d,null,r.a.createElement("button",{type:"button",className:"btn btn-info",onClick:t.newCustomerButtonClick},"Add Customer"))),r.a.createElement(s.b,null,t.ids.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement(X,null)),r.a.createElement(K,null)))}var Z=a(24);function $(e){var t=e.history,a={newCustomerButtonClick:function(){t.push("/".concat(Z.a,"/customers/new"))},openEditCustomerPage:function(e){t.push("/".concat(Z.a,"/customers/").concat(e,"/edit"))},openDeleteCustomerDialog:function(e){t.push("/".concat(Z.a,"/customers/").concat(e,"/delete"))},openDeleteCustomersDialog:function(){t.push("/".concat(Z.a,"/customers/deleteCustomers"))},openFetchCustomersDialog:function(){t.push("/".concat(Z.a,"/customers/fetch"))},openUpdateCustomersStatusDialog:function(){t.push("/"+Z.a+"/customers/updateStatus")}};return r.a.createElement(w,{customersUIEvents:a},r.a.createElement(l,null),r.a.createElement(c.b,{path:"/"+Z.a+"/customers/deleteCustomers"},(function(e){var t=e.history,a=e.match;return r.a.createElement(q,{show:null!=a,onHide:function(){t.push("/"+Z.a+"/customers")}})})),r.a.createElement(c.b,{path:"/"+Z.a+"/customers/:id/delete"},(function(e){var t=e.history,a=e.match;return r.a.createElement(S,{show:null!=a,id:a&&a.params.id,onHide:function(){t.push("/"+Z.a+"/customers")}})})),r.a.createElement(c.b,{path:"/"+Z.a+"/customers/fetch"},(function(e){var t=e.history,a=e.match;return r.a.createElement(_,{show:null!=a,onHide:function(){t.push("/"+Z.a+"/customers")}})})),r.a.createElement(c.b,{path:"/"+Z.a+"/customers/updateStatus"},(function(e){var t=e.history,a=e.match;return r.a.createElement(L,{show:null!=a,onHide:function(){t.push("/"+Z.a+"/customers")}})})),r.a.createElement(Y,null))}var ee=a(50),te=a(1038),ae=a(1040),ne=(Object(ae.b)(te.a),ee.d().shape({company_name:ee.f().min(2,"Minimum 2 symbols").max(50,"Maximum 50 symbols").required("Company Name is required")}));function re(e){var t=e.customer,a=e.btnRef,c=e.saveCustomer,o=Object(n.useState)([]),l=Object(j.a)(o,2),i=l[0],u=l[1],m=Object(n.useState)(!1),d=Object(j.a)(m,2),f=d[0],p=d[1];return Object(n.useEffect)((function(){Object(Z.d)("oas-models",{models:{Country:{}}}).then((function(e){var t=function(t){e.data[t].map((function(a,n){e.data[t][n].label=a.name?a.name:a.company_name,e.data[t][n].value=a.id}))};for(var a in e.data)t(a);u(e.data.Country),p(!0)}))}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(B.c,{enableReinitialize:!0,initialValues:t,validationSchema:ne,onSubmit:function(e){c(e)}},(function(e){var t=e.handleSubmit;return r.a.createElement(r.a.Fragment,null,r.a.createElement(B.b,{className:"form form-label-right"},r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col-lg-4"},r.a.createElement(B.a,{name:"company_name",component:s.f,placeholder:"xbs",label:"Company Name"})),r.a.createElement("div",{className:"col-lg-4"},r.a.createElement(B.a,{name:"contact_person",component:s.f,placeholder:"e.g AB123",label:"Contact Person"})),r.a.createElement("div",{className:"col-lg-4"},r.a.createElement("label",null,"Select Country"),r.a.createElement(ae.a,{debounceTimeout:f?0:Z.b,name:"country",isClearable:!0,loadOptions:function(e,t){return Object(Z.c)(e,t,i,f)}}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col-lg-4"},r.a.createElement(B.a,{name:"landline_phone",component:s.f,placeholder:"041457078",label:"Landline Phone"})),r.a.createElement("div",{className:"col-lg-4"},r.a.createElement(B.a,{name:"mobile_Phone",component:s.f,placeholder:"mobile_Phone",label:"Mobile Phone"})),r.a.createElement("div",{className:"col-lg-4"},r.a.createElement(B.a,{name:"bill_address_one",component:s.f,placeholder:"bill_address_one",label:"Bill Address One"}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col-lg-4"},r.a.createElement(B.a,{name:"bill_address_two",component:s.f,placeholder:"Bill Address Two",label:"Bill Address Two"}))),r.a.createElement("button",{type:"submit",style:{display:"none"},ref:a,onSubmit:function(){return t()}})))})))}var ce=Object(n.createContext)();ce.Consumer;a(1031);ee.d().shape({value:ee.f().min(2,"Minimum 2 symbols").max(50,"Maximum 50 symbols").required("Value is required"),specId:ee.c().required("Specification type is required")});var oe=a(21),se=Object(n.createContext)();se.Consumer;a(1032);ee.d().shape({text:ee.f().min(2,"Minimum 2 symbols").max(50,"Maximum 50 symbols").required("Text is required"),type:ee.c().required("Type is required"),dueDate:ee.b().nullable(!1).required("Due date is required")});var le={id:void 0,company_name:"",landline_number:"",contact_person:"",billing_address_one:"",billing_address_two:"",country:""};function ie(e){var t=e.history,a=e.match.params.id,c=Object(oe.k)(),l=Object(n.useState)("basic"),i=Object(j.a)(l,2),u=(i[0],i[1],Object(n.useState)("")),m=Object(j.a)(u,2),d=m[0],f=m[1],p=Object(o.d)(),b=Object(o.e)((function(e){return{actionsLoading:e.customers.actionsLoading,customerForEdit:e.customers.customerForEdit}}),o.c),E=b.actionsLoading,g=b.customerForEdit;Object(n.useEffect)((function(){p(h(a))}),[a,p]),Object(n.useEffect)((function(){var e=a?"":"New Customer";g&&a&&(e="Edit customer - ".concat(g.part_number)),f(e),c.setTitle(e)}),[g,a]);var y=Object(n.useRef)(),O=function(){t.push("/".concat(Z.a,"/customers"))};return r.a.createElement(s.a,null,E&&r.a.createElement(s.h,null),r.a.createElement(s.c,{title:d},r.a.createElement(s.d,null,r.a.createElement("button",{type:"button",onClick:O,className:"btn btn-light"},r.a.createElement("i",{className:"fa fa-arrow-left"}),"Back"),"  ",r.a.createElement("button",{className:"btn btn-light ml-2"},r.a.createElement("i",{className:"fa fa-redo"}),"Reset"),"  ",r.a.createElement("button",{type:"submit",className:"btn btn-info ml-2",onClick:function(){y&&y.current&&y.current.click()}},"Save"))),r.a.createElement(s.b,null,r.a.createElement("div",{className:"mt-5"},r.a.createElement(re,{actionsLoading:E,customer:g||le,btnRef:y,saveCustomer:function(e){console.log("values",e),a?p(v(e)).then((function(){return O()})):p(C(e)).then((function(){return O()}))}}))))}function ue(){return r.a.createElement(n.Suspense,{fallback:r.a.createElement(oe.c,null)},r.a.createElement(c.d,null,r.a.createElement(oe.a,{path:"/"+Z.a+"/customers/new",component:ie}),r.a.createElement(oe.a,{path:"/"+Z.a+"/customers/:id/edit",component:ie}),r.a.createElement(oe.a,{path:"/"+Z.a+"/customers",component:$})))}a.d(t,"default",(function(){return ue}))}}]);
//# sourceMappingURL=5.eed5a879.chunk.js.map