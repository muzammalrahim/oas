(this.webpackJsonpdemo3=this.webpackJsonpdemo3||[]).push([[6],{1084:function(e,t,a){"use strict";var n=a(32),c=a.n(n);var r=a(353);a.d(t,"e",(function(){return o})),a.d(t,"d",(function(){return l})),a.d(t,"b",(function(){return u})),a.d(t,"a",(function(){return s})),a.d(t,"f",(function(){return m})),a.d(t,"c",(function(){return d}));var i=r.b.actions,o=function(e,t){return function(a){return a(i.startCall({callType:r.a.list})),t?function(e,t){return c.a.post("".concat("api/specifications","find/").concat(t),{queryParams:e})}(e,t).then((function(e){var t=e.data,n=t.totalCount,c=t.entities;a(i.specificationsFetched({totalCount:n,entities:c}))})).catch((function(e){e.clientMessage="Can't find specifications",a(i.catchError({error:e,callType:r.a.list}))})):a(i.specificationsFetched({totalCount:0,entities:null}))}},l=function(e){return function(t){return e?(t(i.startCall({callType:r.a.action})),(a=e,c.a.get("".concat("api/specifications","/").concat(a))).then((function(e){var a=e.data;t(i.specificationFetched({specificationForEdit:a}))})).catch((function(e){e.clientMessage="Can't find specification",t(i.catchError({error:e,callType:r.a.action}))}))):t(i.specificationFetched({specificationForEdit:void 0}));var a}},u=function(e){return function(t){return t(i.startCall({callType:r.a.action})),(a=e,c.a.delete("".concat("api/specifications","/").concat(a))).then((function(a){t(i.specificationDeleted({id:e}))})).catch((function(e){e.clientMessage="Can't delete specification",t(i.catchError({error:e,callType:r.a.action}))}));var a}},s=function(e){return function(t){return t(i.startCall({callType:r.a.action})),(a=e,c.a.post("api/specifications",{specification:a})).then((function(e){var a=e.data.specification;t(i.specificationCreated({specification:a}))})).catch((function(e){e.clientMessage="Can't create specification",t(i.catchError({error:e,callType:r.a.action}))}));var a}},m=function(e){return function(t){return t(i.startCall({callType:r.a.action})),function(e){return c.a.put("".concat("api/specifications","/").concat(e.id),{specification:e})}(e).then((function(){t(i.specificationUpdated({specification:e}))})).catch((function(e){e.clientMessage="Can't update specification",t(i.catchError({error:e,callType:r.a.action}))}))}},d=function(e){return function(t){return t(i.startCall({callType:r.a.action})),function(e){return c.a.post("".concat("api/specifications","/deleteSpecifications"),{ids:e})}(e).then((function(){t(i.specificationsDeleted({ids:e}))})).catch((function(e){e.clientMessage="Can't delete specifications",t(i.catchError({error:e,callType:r.a.action}))}))}}},1085:function(e,t,a){"use strict";var n=a(32),c=a.n(n);var r=a(352);a.d(t,"e",(function(){return o})),a.d(t,"d",(function(){return l})),a.d(t,"b",(function(){return u})),a.d(t,"a",(function(){return s})),a.d(t,"f",(function(){return m})),a.d(t,"c",(function(){return d}));var i=r.b.actions,o=function(e,t){return function(a){return a(i.startCall({callType:r.a.list})),t?function(e,t){return c.a.post("".concat("api/remarks","find/").concat(t),{queryParams:e})}(e,t).then((function(e){var t=e.data,n=t.totalCount,c=t.entities;a(i.remarksFetched({totalCount:n,entities:c}))})).catch((function(e){e.clientMessage="Can't find remarks",a(i.catchError({error:e,callType:r.a.list}))})):a(i.remarksFetched({totalCount:0,entities:null}))}},l=function(e){return function(t){return e?(t(i.startCall({callType:r.a.action})),(a=e,c.a.get("".concat("api/remarks","/").concat(a))).then((function(e){var a=e.data;t(i.remarkFetched({remarkForEdit:a}))})).catch((function(e){e.clientMessage="Can't find remark",t(i.catchError({error:e,callType:r.a.action}))}))):t(i.remarkFetched({remarkForEdit:void 0}));var a}},u=function(e){return function(t){return t(i.startCall({callType:r.a.action})),(a=e,c.a.delete("".concat("api/remarks","/").concat(a))).then((function(a){t(i.remarkDeleted({id:e}))})).catch((function(e){e.clientMessage="Can't delete remark",t(i.catchError({error:e,callType:r.a.action}))}));var a}},s=function(e){return function(t){return t(i.startCall({callType:r.a.action})),(a=e,c.a.post("api/remarks",{remark:a})).then((function(e){var a=e.data.remark;t(i.remarkCreated({remark:a}))})).catch((function(e){e.clientMessage="Can't create remark",t(i.catchError({error:e,callType:r.a.action}))}));var a}},m=function(e){return function(t){return t(i.startCall({callType:r.a.action})),function(e){return c.a.put("".concat("api/remarks","/").concat(e.id),{remark:e})}(e).then((function(){t(i.remarkUpdated({remark:e}))})).catch((function(e){e.clientMessage="Can't update remark",t(i.catchError({error:e,callType:r.a.action}))}))}},d=function(e){return function(t){return t(i.startCall({callType:r.a.action})),function(e){return c.a.post("".concat("api/remarks","/deleteRemarks"),{ids:e})}(e).then((function(){console.log("delete return"),t(i.remarksDeleted({ids:e}))})).catch((function(e){e.clientMessage="Can't delete remarks",t(i.catchError({error:e,callType:r.a.action}))}))}}},1121:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(147),i=a(497),o=a(15),l=a(11),u=a(109),s=a(14),m=a(56),d=a(38),f=a(39),p=a(1093),b=a(1096),E=a(53),h=a(13),v=Object(b.b)(p.a),y=f.d().shape({part_number:f.f().min(2,"Minimum 2 symbols").max(50,"Maximum 50 symbols").required("Part number is required"),alt_part_number:f.f().min(2,"Minimum 2 symbols").max(50,"Maximum 50 symbols").required("Alt part number is required")});function g(e){var t=e.product,a=e.btnRef,r=e.saveProduct,i=Object(n.useState)([]),l=Object(o.a)(i,2),u=l[0],f=l[1],p=Object(n.useState)([]),g=Object(o.a)(p,2),C=g[0],k=g[1],O=Object(n.useState)([]),N=Object(o.a)(O,2),T=N[0],_=N[1],j=Object(n.useState)(!1),M=Object(o.a)(j,2),S=M[0],q=M[1];function F(e){Object(h.d)("product-category",{name:e}).then((function(e){f([].concat(Object(m.a)(u),[{label:e.name,value:e.id}]))}))}function x(e){Object(h.d)("manufacturer",{name:e}).then((function(e){f([].concat(Object(m.a)(C),[{label:e.name,value:e.id}]))}))}return Object(n.useEffect)((function(){Object(h.d)("oas-models",{models:{Manufacturer:{},Supplier:{},ProductCategory:{}}}).then((function(e){var t=function(t){e.data[t].map((function(a,n){e.data[t][n].label=a.name?a.name:a.company_name,e.data[t][n].value=a.id}))};for(var a in e.data)t(a);f(e.data.ProductCategory),k(e.data.Manufacturer),_(e.data.Supplier),q(!0)}))}),[]),c.a.createElement(c.a.Fragment,null,c.a.createElement(d.c,{enableReinitialize:!0,initialValues:t,validationSchema:y,onSubmit:function(e){r(e)}},(function(e){var t=e.handleSubmit;return c.a.createElement(c.a.Fragment,null,c.a.createElement(d.b,{className:"form form-label-right"},c.a.createElement("div",{className:"form-group row"},c.a.createElement("div",{className:"col-lg-4"},c.a.createElement(d.a,{name:"part_number",component:s.f,placeholder:"e.g AB123",label:"Part Number"})),c.a.createElement("div",{className:"col-lg-4"},c.a.createElement(d.a,{name:"alt_part_number",component:s.f,placeholder:"e.g AB123",label:"Alternative Part Number"})),c.a.createElement("div",{className:"col-lg-4"},c.a.createElement("label",null,"Select Category"),c.a.createElement(v,{debounceTimeout:S?0:h.b,name:"product_category",onCreateOption:F,isClearable:!0,loadOptions:function(e,t){return Object(h.c)(e,t,u,S)}}))),c.a.createElement("div",{className:"form-group row"},c.a.createElement("div",{className:"col-lg-4"},c.a.createElement("label",null,"Select Manufacturer"),c.a.createElement(v,{debounceTimeout:S?0:h.b,isClearable:!0,name:"product_manufacturer",onCreateOption:x,loadOptions:function(e,t){return Object(h.c)(e,t,C,S)}})),c.a.createElement("div",{className:"col-lg-4"},c.a.createElement("label",null,"Select Supplier"),c.a.createElement(b.a,{debounceTimeout:S?0:h.b,isClearable:!0,name:"supplier",loadOptions:function(e,t){return Object(h.c)(e,t,T,S)}})),c.a.createElement("div",{className:"col-lg-4"},c.a.createElement(s.k,{name:"condition",label:"Condition"},E.b.map((function(e,t){return c.a.createElement("option",{key:e,value:e},e)}))))),c.a.createElement("div",{className:"form-group row"},c.a.createElement("div",{className:"col-lg-4"},c.a.createElement(d.a,{name:"quantity",component:s.f,placeholder:"Default 0",label:"Quantity"})),c.a.createElement("div",{className:"col-lg-4"},c.a.createElement(d.a,{name:"tag_date",component:s.f,placeholder:"",label:"Tag Date"})),c.a.createElement("div",{className:"col-lg-4"},c.a.createElement(d.a,{name:"turn_around_time",component:s.f,placeholder:"",label:"Turn around time"}))),c.a.createElement("div",{className:"form-group row"},c.a.createElement("div",{className:"col-lg-4"},c.a.createElement(s.k,{name:"hazmat",label:"Hazmat"},E.f.map((function(e,t){return c.a.createElement("option",{key:e,value:e},e)})))),c.a.createElement("div",{className:"col-lg-4"},c.a.createElement(d.a,{name:"certification",component:s.f,placeholder:"",label:"Certification"})),c.a.createElement("div",{className:"col-lg-4"},c.a.createElement(s.k,{name:"unit_of_measure",label:"Unit of measure"},E.e.map((function(e,t){return c.a.createElement("option",{key:e,value:e},e)}))))),c.a.createElement("div",{className:"form-group row"},c.a.createElement("div",{className:"col-lg-4"},c.a.createElement(d.a,{name:"unit_price",component:s.f,placeholder:"",label:"Unit price"})),c.a.createElement("div",{className:"col-lg-4"},c.a.createElement(s.k,{name:"hot_sale_item",label:"Hot sale item"},E.f.map((function(e,t){return c.a.createElement("option",{key:e,value:e},e)})))),c.a.createElement("div",{className:"col-lg-4"},c.a.createElement(s.k,{name:"status",label:"Status"},E.d.map((function(e,t){return c.a.createElement("option",{key:e,value:t},e)}))))),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",null,"Description"),c.a.createElement(d.a,{name:"description",as:"textarea",className:"form-control"})),c.a.createElement("button",{type:"submit",style:{display:"none"},ref:a,onSubmit:function(){return t()}})))})))}a(23),a(41);var C=Object(n.createContext)();C.Consumer;a(113),a(133),a(1084),a(1079),a(1067),a(5),a(3);a(1073);f.d().shape({value:f.f().min(2,"Minimum 2 symbols").max(50,"Maximum 50 symbols").required("Value is required"),specId:f.c().required("Specification type is required")});var k=a(26),O=Object(n.createContext)();O.Consumer;a(1085);f.d().shape({text:f.f().min(2,"Minimum 2 symbols").max(50,"Maximum 50 symbols").required("Text is required"),type:f.c().required("Type is required"),dueDate:f.b().nullable(!1).required("Due date is required")});var N={id:void 0,condition:"",product_manufacturer:"",supplier:"",product_category:"",part_number:"",alt_part_number:"",description:"",tag_date:"2021-12-12",status:0,hazmat:"",unit_price:0,unit_of_measure:"",quantity:0,turn_around_time:"",hot_sale_item:"",certification:""};function T(e){var t=e.history,a=e.match.params.id,r=Object(k.k)(),i=Object(n.useState)("basic"),m=Object(o.a)(i,2),d=(m[0],m[1],Object(n.useState)("")),f=Object(o.a)(d,2),p=f[0],b=f[1],E=Object(l.d)(),v=Object(l.e)((function(e){return{actionsLoading:e.products.actionsLoading,productForEdit:e.products.productForEdit}}),l.c),y=v.actionsLoading,C=v.productForEdit;Object(n.useEffect)((function(){E(u.d(a))}),[a,E]),Object(n.useEffect)((function(){var e=a?"":"New Product";C&&a&&(e="Edit product - ".concat(C.part_number)),b(e),r.setTitle(e)}),[C,a]);var O=Object(n.useRef)(),T=function(){t.push("/".concat(h.a,"/products"))};return c.a.createElement(s.a,null,y&&c.a.createElement(s.h,null),c.a.createElement(s.c,{title:p},c.a.createElement(s.d,null,c.a.createElement("button",{type:"button",onClick:T,className:"btn btn-light"},c.a.createElement("i",{className:"fa fa-arrow-left"}),"Back"),"  ",c.a.createElement("button",{className:"btn btn-light ml-2"},c.a.createElement("i",{className:"fa fa-redo"}),"Reset"),"  ",c.a.createElement("button",{type:"submit",className:"btn btn-primary ml-2",onClick:function(){O&&O.current&&O.current.click()}},"Save"))),c.a.createElement(s.b,null,c.a.createElement("div",{className:"mt-5"},c.a.createElement(g,{actionsLoading:y,product:C||N,btnRef:O,saveProduct:function(e){console.log("values",e),a?E(u.f(e)).then((function(){return T()})):E(u.a(e)).then((function(){return T()}))}}))))}function _(){return c.a.createElement(n.Suspense,{fallback:c.a.createElement(k.c,null)},c.a.createElement(r.d,null,c.a.createElement(k.a,{path:"/"+h.a+"/products/new",component:T}),c.a.createElement(k.a,{path:"/"+h.a+"/products/:id/edit",component:T}),c.a.createElement(k.a,{path:"/"+h.a+"/products",component:i.a})))}a.d(t,"default",(function(){return _}))}}]);
//# sourceMappingURL=6.66cf6fae.chunk.js.map