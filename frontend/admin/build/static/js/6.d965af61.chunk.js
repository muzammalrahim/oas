(this.webpackJsonpdemo3=this.webpackJsonpdemo3||[]).push([[6],{1034:function(e,t,a){"use strict";var n=a(64),r=a.n(n);var i=a(329);a.d(t,"e",(function(){return l})),a.d(t,"d",(function(){return o})),a.d(t,"b",(function(){return u})),a.d(t,"a",(function(){return s})),a.d(t,"f",(function(){return m})),a.d(t,"c",(function(){return d}));var c=i.b.actions,l=function(e,t){return function(a){return a(c.startCall({callType:i.a.list})),t?function(e,t){return r.a.post("".concat("api/specifications","find/").concat(t),{queryParams:e})}(e,t).then((function(e){var t=e.data,n=t.totalCount,r=t.entities;a(c.specificationsFetched({totalCount:n,entities:r}))})).catch((function(e){e.clientMessage="Can't find specifications",a(c.catchError({error:e,callType:i.a.list}))})):a(c.specificationsFetched({totalCount:0,entities:null}))}},o=function(e){return function(t){return e?(t(c.startCall({callType:i.a.action})),(a=e,r.a.get("".concat("api/specifications","/").concat(a))).then((function(e){var a=e.data;t(c.specificationFetched({specificationForEdit:a}))})).catch((function(e){e.clientMessage="Can't find specification",t(c.catchError({error:e,callType:i.a.action}))}))):t(c.specificationFetched({specificationForEdit:void 0}));var a}},u=function(e){return function(t){return t(c.startCall({callType:i.a.action})),(a=e,r.a.delete("".concat("api/specifications","/").concat(a))).then((function(a){t(c.specificationDeleted({id:e}))})).catch((function(e){e.clientMessage="Can't delete specification",t(c.catchError({error:e,callType:i.a.action}))}));var a}},s=function(e){return function(t){return t(c.startCall({callType:i.a.action})),(a=e,r.a.post("api/specifications",{specification:a})).then((function(e){var a=e.data.specification;t(c.specificationCreated({specification:a}))})).catch((function(e){e.clientMessage="Can't create specification",t(c.catchError({error:e,callType:i.a.action}))}));var a}},m=function(e){return function(t){return t(c.startCall({callType:i.a.action})),function(e){return r.a.put("".concat("api/specifications","/").concat(e.id),{specification:e})}(e).then((function(){t(c.specificationUpdated({specification:e}))})).catch((function(e){e.clientMessage="Can't update specification",t(c.catchError({error:e,callType:i.a.action}))}))}},d=function(e){return function(t){return t(c.startCall({callType:i.a.action})),function(e){return r.a.post("".concat("api/specifications","/deleteSpecifications"),{ids:e})}(e).then((function(){t(c.specificationsDeleted({ids:e}))})).catch((function(e){e.clientMessage="Can't delete specifications",t(c.catchError({error:e,callType:i.a.action}))}))}}},1035:function(e,t,a){"use strict";var n=a(64),r=a.n(n);var i=a(328);a.d(t,"e",(function(){return l})),a.d(t,"d",(function(){return o})),a.d(t,"b",(function(){return u})),a.d(t,"a",(function(){return s})),a.d(t,"f",(function(){return m})),a.d(t,"c",(function(){return d}));var c=i.b.actions,l=function(e,t){return function(a){return a(c.startCall({callType:i.a.list})),t?function(e,t){return r.a.post("".concat("api/remarks","find/").concat(t),{queryParams:e})}(e,t).then((function(e){var t=e.data,n=t.totalCount,r=t.entities;a(c.remarksFetched({totalCount:n,entities:r}))})).catch((function(e){e.clientMessage="Can't find remarks",a(c.catchError({error:e,callType:i.a.list}))})):a(c.remarksFetched({totalCount:0,entities:null}))}},o=function(e){return function(t){return e?(t(c.startCall({callType:i.a.action})),(a=e,r.a.get("".concat("api/remarks","/").concat(a))).then((function(e){var a=e.data;t(c.remarkFetched({remarkForEdit:a}))})).catch((function(e){e.clientMessage="Can't find remark",t(c.catchError({error:e,callType:i.a.action}))}))):t(c.remarkFetched({remarkForEdit:void 0}));var a}},u=function(e){return function(t){return t(c.startCall({callType:i.a.action})),(a=e,r.a.delete("".concat("api/remarks","/").concat(a))).then((function(a){t(c.remarkDeleted({id:e}))})).catch((function(e){e.clientMessage="Can't delete remark",t(c.catchError({error:e,callType:i.a.action}))}));var a}},s=function(e){return function(t){return t(c.startCall({callType:i.a.action})),(a=e,r.a.post("api/remarks",{remark:a})).then((function(e){var a=e.data.remark;t(c.remarkCreated({remark:a}))})).catch((function(e){e.clientMessage="Can't create remark",t(c.catchError({error:e,callType:i.a.action}))}));var a}},m=function(e){return function(t){return t(c.startCall({callType:i.a.action})),function(e){return r.a.put("".concat("api/remarks","/").concat(e.id),{remark:e})}(e).then((function(){t(c.remarkUpdated({remark:e}))})).catch((function(e){e.clientMessage="Can't update remark",t(c.catchError({error:e,callType:i.a.action}))}))}},d=function(e){return function(t){return t(c.startCall({callType:i.a.action})),function(e){return r.a.post("".concat("api/remarks","/deleteRemarks"),{ids:e})}(e).then((function(){console.log("delete return"),t(c.remarksDeleted({ids:e}))})).catch((function(e){e.clientMessage="Can't delete remarks",t(c.catchError({error:e,callType:i.a.action}))}))}}},1127:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(132),c=a(29),l=a(103);function o(){var e=Object(c.e)((function(e){return{isLoading:e.enquiries.listLoading}}),c.c).isLoading;return Object(n.useEffect)((function(){}),[e]),r.a.createElement(l.g,{isLoading:e,text:"Loading ..."})}var u=a(1128),s=a(30),m=a(64),d=a.n(m),f="http://127.0.0.1:8000/api/v1/enquiry";var p=a(414),E=p.b.actions,b=function(e){return function(t){return t(E.startCall({callType:p.a.list})),function(e){var t=e.filter;return d.a.get(f,{params:t})}(e).then((function(e){var a=e.data,n=a.count,r=a.results;t(E.enquiriesFetched({count:n,results:r}))})).catch((function(e){e.clientMessage="Can't find enquiries",t(E.catchError({error:e,callType:p.a.list}))}))}},g=function(e){return function(t){return e?(t(E.startCall({callType:p.a.action})),(a=e,d.a.get("".concat(f,"/").concat(a))).then((function(e){var a=Object(s.a)(Object(s.a)({},e.data),{},{supplier:e.data.supplier?e.data.supplier.id:"",enquiry_manufacturer:e.data.enquiry_manufacturer?e.data.enquiry_manufacturer.id:"",enquiry_category:e.data.enquiry_category?e.data.enquiry_category.id:""});t(E.enquiryFetched({enquiryForEdit:a}))})).catch((function(e){e.clientMessage="Can't find enquiry",t(E.catchError({error:e,callType:p.a.action}))}))):t(E.enquiryFetched({enquiryForEdit:void 0}));var a}},y=function(e){return function(t){return t(E.startCall({callType:p.a.action})),(a=e,d.a.delete("".concat(f,"/").concat(a))).then((function(a){t(E.enquiryDeleted({id:e}))})).catch((function(e){e.clientMessage="Can't delete enquiry",t(E.catchError({error:e,callType:p.a.action}))}));var a}},h=function(e){return function(t){return t(E.startCall({callType:p.a.action})),(a=e,d.a.post(f+"/",Object(s.a)({},a))).then((function(e){var a=e.data;t(E.enquiryCreated({enquiry:a}))})).catch((function(e){e.clientMessage="Can't create enquiry",t(E.catchError({error:e,callType:p.a.action}))}));var a}},q=function(e){return function(t){return t(E.startCall({callType:p.a.action})),console.log("proudct",e),function(e){return d.a.put("".concat(f,"/").concat(e.id,"/"),Object(s.a)({},e))}(e).then((function(){t(E.enquiryUpdated({enquiry:e}))})).catch((function(e){e.clientMessage="Can't update enquiry",t(E.catchError({error:e,callType:p.a.action}))}))}},v=function(e,t){return function(a){return a(E.startCall({callType:p.a.action})),function(e,t){return d.a.post("".concat(f,"/updateStatusForEnquiries"),{ids:e,status:t})}(e,t).then((function(){a(E.enquiriesStatusUpdated({ids:e,status:t}))})).catch((function(e){e.clientMessage="Can't update enquiries status",a(E.catchError({error:e,callType:p.a.action}))}))}},C=function(e){return function(t){return t(E.startCall({callType:p.a.action})),function(e){return d.a.post("".concat(f,"/delete-all/"),{ids:e})}(e).then((function(){t(E.enquiriesDeleted({ids:e}))})).catch((function(e){e.clientMessage="Can't delete enquiries",t(E.catchError({error:e,callType:p.a.action}))}))}},O=a(15),N=a(71),j=["danger","success","info",""],k=["Inactive","Active"],D=["NE","NS","SV","AR","FN","US","RP"],F=["YES","NO"],T=["CM","BOX","KG"],P=[{dataField:"id",order:"asc"}],S=[{text:"3",value:3},{text:"5",value:5},{text:"10",value:10}],x={filter:{model:"",manufacture:"",VINCode:""},sortOrder:"asc",sortField:"VINCode",pageNumber:1,pageSize:10},_=Object(n.createContext)();function M(){return Object(n.useContext)(_)}_.Consumer;function w(e){var t=e.enquiriesUIEvents,a=e.children,i=Object(n.useState)(x),c=Object(O.a)(i,2),l=c[0],o=c[1],u=Object(n.useState)([]),s=Object(O.a)(u,2),m=s[0],d=s[1],f=Object(n.useCallback)((function(e){o((function(t){return Object(N.isFunction)(e)&&(e=e(t)),Object(N.isEqual)(t,e)?t:e}))}),[]),p={queryParams:l,setQueryParamsBase:o,ids:m,setIds:d,setQueryParams:f,newEnquiryButtonClick:t.newEnquiryButtonClick,openEditEnquiryPage:t.openEditEnquiryPage,openDeleteEnquiryDialog:t.openDeleteEnquiryDialog,openDeleteEnquiriesDialog:t.openDeleteEnquiriesDialog,openFetchEnquiriesDialog:t.openFetchEnquiriesDialog,openUpdateEnquiriesStatusDialog:t.openUpdateEnquiriesStatusDialog};return r.a.createElement(_.Provider,{value:p},a)}function I(e){var t=e.id,a=e.show,i=e.onHide,o=M(),s=Object(n.useMemo)((function(){return{setIds:o.setIds,queryParams:o.queryParams}}),[o]),m=Object(c.d)(),d=Object(c.e)((function(e){return{isLoading:e.enquiries.actionsLoading}}),c.c).isLoading;Object(n.useEffect)((function(){t||i()}),[t]),Object(n.useEffect)((function(){}),[d,m]);return r.a.createElement(u.a,{show:a,onHide:i,"aria-labelledby":"example-modal-sizes-title-lg"},d&&r.a.createElement(l.h,{variant:"query"}),r.a.createElement(u.a.Header,{closeButton:!0},r.a.createElement(u.a.Title,{id:"example-modal-sizes-title-lg"},"Enquiry Delete")),r.a.createElement(u.a.Body,null,!d&&r.a.createElement("span",null,"Are you sure to permanently delete this enquiry?"),d&&r.a.createElement("span",null,"Enquiry is deleting...")),r.a.createElement(u.a.Footer,null,r.a.createElement("div",null,r.a.createElement("button",{type:"button",onClick:i,className:"btn btn-light btn-elevate"},"Cancel"),r.a.createElement(r.a.Fragment,null," "),r.a.createElement("button",{type:"button",onClick:function(){m(y(t)).then((function(){m(b(s.queryParams)),s.setIds([]),i()}))},className:"btn btn-danger btn-elevate"},"Delete"))))}function L(e){var t=e.show,a=e.onHide,i=M(),o=Object(n.useMemo)((function(){return{ids:i.ids,setIds:i.setIds,queryParams:i.queryParams}}),[i]),s=Object(c.d)(),m=Object(c.e)((function(e){return{isLoading:e.enquiries.actionsLoading}}),c.c).isLoading;Object(n.useEffect)((function(){}),[m,s]),Object(n.useEffect)((function(){o.ids&&0!==o.ids.length||a()}),[o.ids]);return r.a.createElement(u.a,{show:t,onHide:a,"aria-labelledby":"example-modal-sizes-title-lg"},m&&r.a.createElement(l.h,null),r.a.createElement(u.a.Header,{closeButton:!0},r.a.createElement(u.a.Title,{id:"example-modal-sizes-title-lg"},"Enquiries Delete")),r.a.createElement(u.a.Body,null,!m&&r.a.createElement("span",null,"Are you sure to permanently delete selected enquiries?"),m&&r.a.createElement("span",null,"Enquiries are deleting...")),r.a.createElement(u.a.Footer,null,r.a.createElement("div",null,r.a.createElement("button",{type:"button",onClick:a,className:"btn btn-light btn-elevate"},"Cancel"),r.a.createElement(r.a.Fragment,null," "),r.a.createElement("button",{type:"button",onClick:function(){s(C(o.ids)).then((function(){s(b(o.queryParams)).then((function(){o.setIds([]),a()}))}))},className:"btn btn-danger btn-elevate"},"Delete"))))}var z=function(e,t){var a=[];return t.forEach((function(t){var n=e.find((function(e){return e.id===t}));n&&a.push(n)})),a};function B(e){var t=e.show,a=e.onHide,i=M(),l=Object(n.useMemo)((function(){return{ids:i.ids,queryParams:i.queryParams}}),[i]),o=Object(c.e)((function(e){return{enquiries:z(e.enquiries.entities,l.ids)}}),c.c).enquiries;return Object(n.useEffect)((function(){l.ids&&0!==l.ids.length||a()}),[l.ids]),r.a.createElement(u.a,{show:t,onHide:a,"aria-labelledby":"example-modal-sizes-title-lg"},r.a.createElement(u.a.Header,{closeButton:!0},r.a.createElement(u.a.Title,{id:"example-modal-sizes-title-lg"},"Fetch selected elements")),r.a.createElement(u.a.Body,null,r.a.createElement("div",{className:"list-timeline list-timeline-skin-light padding-30"},r.a.createElement("div",{className:"list-timeline-items"},o.map((function(e){return r.a.createElement("div",{className:"list-timeline-item mb-3",key:e.id},r.a.createElement("span",{className:"list-timeline-text"},r.a.createElement("span",{className:"label label-lg label-light-".concat(j[e.status]," label-inline"),style:{width:"60px"}},"ID: ",e.id)," ",r.a.createElement("span",{className:"ml-5"},e.manufacture,", ",e.model)))}))))),r.a.createElement(u.a.Footer,null,r.a.createElement("div",null,r.a.createElement("button",{type:"button",onClick:a,className:"btn btn-light btn-elevate"},"Cancel"),r.a.createElement(r.a.Fragment,null," "),r.a.createElement("button",{type:"button",onClick:a,className:"btn btn-primary btn-elevate"},"Ok"))))}var H=function(e,t){var a=[];return t.forEach((function(t){var n=e.find((function(e){return e.id===t}));n&&a.push(n)})),a};function U(e){var t=e.show,a=e.onHide,i=M(),l=Object(n.useMemo)((function(){return{ids:i.ids,setIds:i.setIds,queryParams:i.queryParams}}),[i]),o=Object(c.e)((function(e){return{enquiries:H(e.enquiries.entities,l.ids),isLoading:e.enquiries.actionsLoading}}),c.c),s=o.enquiries,m=o.isLoading;Object(n.useEffect)((function(){(l.ids||0===l.ids.length)&&a()}),[l.ids]);var d=Object(n.useState)(0),f=Object(O.a)(d,2),p=f[0],E=f[1],g=Object(c.d)();return r.a.createElement(u.a,{show:t,onHide:a,"aria-labelledby":"example-modal-sizes-title-lg"},r.a.createElement(u.a.Header,{closeButton:!0},r.a.createElement(u.a.Title,{id:"example-modal-sizes-title-lg"},"Status has been updated for selected enquiries")),r.a.createElement(u.a.Body,{className:"overlay overlay-block cursor-default"},m&&r.a.createElement("div",{className:"overlay-layer bg-transparent"},r.a.createElement("div",{className:"spinner spinner-lg spinner-warning"})),r.a.createElement("div",{className:"list-timeline list-timeline-skin-light padding-30"},r.a.createElement("div",{className:"list-timeline-items"},s.map((function(e){return r.a.createElement("div",{className:"list-timeline-item mb-3",key:e.id},r.a.createElement("span",{className:"list-timeline-text"},r.a.createElement("span",{className:"label label-lg label-light-".concat(j[e.status]," label-inline"),style:{width:"60px"}},"ID: ",e.id)," ",r.a.createElement("span",{className:"ml-5"},e.manufacture,", ",e.model)))}))))),r.a.createElement(u.a.Footer,{className:"form"},r.a.createElement("div",{className:"form-group"},r.a.createElement("select",{className:"form-control ".concat(j[p]),value:p,onChange:function(e){return E(+e.target.value)}},r.a.createElement("option",{value:"0"},"Selling"),r.a.createElement("option",{value:"1"},"Sold"))),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{type:"button",onClick:a,className:"btn btn-light btn-elevate"},"Cancel"),r.a.createElement(r.a.Fragment,null," "),r.a.createElement("button",{type:"button",onClick:function(){g(v(l.ids,p)).then((function(){g(b(l.queryParams)).then((function(){l.setIds([]),a()}))}))},className:"btn btn-primary btn-elevate"},"Update Status"))))}var A=a(51);var R=a(1037),Q=a.n(R),V=a(327),G=a.n(V),J=a(7),K=a(1029),W=a(1018),X=a(11),Y=a.n(X),Z=function(e,t,a,n){n.openEditEnquiryPage;var i=n.openDeleteEnquiryDialog;return r.a.createElement(r.a.Fragment,null,r.a.createElement(K.a,{overlay:r.a.createElement(W.a,{id:"enquiries-delete-tooltip"},"Delete enquiry")},r.a.createElement("a",{className:"btn btn-icon btn-light btn-hover-danger btn-sm",onClick:function(){return i(t.id)}},r.a.createElement("span",{className:"svg-icon svg-icon-md svg-icon-danger"},r.a.createElement(Y.a,{src:Object(J.h)("/static/media/svg/icons/General/Trash.svg")})))))};function $(){var e=M(),t=Object(n.useMemo)((function(){return{ids:e.ids,setIds:e.setIds,queryParams:e.queryParams,setQueryParams:e.setQueryParams,openDeleteEnquiryDialog:e.openDeleteEnquiryDialog}}),[e]),a=Object(c.e)((function(e){return{currentState:e.enquiries}}),c.c).currentState,i=a.totalCount,o=a.entities,u=a.listLoading,s=Object(c.d)();Object(n.useEffect)((function(){t.setIds([]),s(b(t.queryParams))}),[t.queryParams,s]);var m=[{dataField:"email_address",text:"Email",sort:!0,sortCaret:J.g},{dataField:"phone_number",text:"Phone Number",sort:!0,sortCaret:J.g},{dataField:"part_number",text:"Part Number",sort:!0,sortCaret:J.g},{dataField:"company",text:"Company",sort:!0,sortCaret:J.g},{dataField:"contact_person",text:"Contact Person",sort:!0,sortCaret:J.g},{dataField:"country",text:"Country",sort:!0,sortCaret:J.g},{dataField:"action",text:"Actions",formatter:Z,formatExtraData:{openDeleteEnquiryDialog:t.openDeleteEnquiryDialog},classes:"text-right pr-0",headerClasses:"text-right pr-3",style:{minWidth:"100px"}}],d={custom:!0,totalSize:i,sizePerPageList:S,sizePerPage:t.queryParams.pageSize,page:t.queryParams.pageNumber};return r.a.createElement(r.a.Fragment,null,r.a.createElement(V.PaginationProvider,{pagination:G()(d)},(function(e){var a=e.paginationProps,n=e.paginationTableProps;return r.a.createElement(l.j,{isLoading:u,paginationProps:a},r.a.createElement(Q.a,Object.assign({wrapperClasses:"table-responsive",classes:"table table-head-custom table-vertical-center overflow-hidden",bootstrap4:!0,bordered:!1,remote:!0,keyField:"id",data:o,columns:m,defaultSorted:P,onTableChange:Object(J.c)(t.setQueryParams),selectRow:Object(J.f)({entities:o,ids:t.ids,setIds:t.setIds})},n),r.a.createElement(J.b,{entities:o}),r.a.createElement(J.a,{entities:o})))})))}function ee(){var e=M(),t=Object(n.useMemo)((function(){return{ids:e.ids,setIds:e.setIds,openDeleteEnquiriesDialog:e.openDeleteEnquiriesDialog,openFetchEnquiriesDialog:e.openFetchEnquiriesDialog,openUpdateEnquiriesStatusDialog:e.openUpdateEnquiriesStatusDialog}}),[e]);return r.a.createElement("div",{className:"form"},r.a.createElement("div",{className:"row align-items-center form-group-actions margin-top-20 margin-bottom-20"},r.a.createElement("div",{className:"col-xl-12"},r.a.createElement("div",{className:"form-group form-group-inline"},r.a.createElement("div",{className:"form-label form-label-no-wrap"},r.a.createElement("label",{className:"-font-bold font-danger-"},r.a.createElement("span",null,"Selected records count: ",r.a.createElement("b",null,t.ids.length)))),r.a.createElement("div",null,r.a.createElement("button",{type:"button",className:"btn btn-danger font-weight-bolder font-size-sm",onClick:t.openDeleteEnquiriesDialog},r.a.createElement("i",{className:"fa fa-trash"})," Delete All"))))))}function te(){var e=M(),t=Object(n.useMemo)((function(){return{ids:e.ids,queryParams:e.queryParams,setQueryParams:e.setQueryParams,newEnquiryButtonClick:e.newEnquiryButtonClick,openDeleteEnquiriesDialog:e.openDeleteEnquiriesDialog,openEditEnquiryPage:e.openEditEnquiryPage,openUpdateEnquiriesStatusDialog:e.openUpdateEnquiriesStatusDialog,openFetchEnquiriesDialog:e.openFetchEnquiriesDialog}}),[e]);return r.a.createElement(l.a,null,r.a.createElement(l.c,{title:"Enquiries"}),r.a.createElement(l.b,null,t.ids.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement(ee,null)),r.a.createElement($,null)))}var ae=a(20);function ne(e){var t=e.history,a={newEnquiryButtonClick:function(){t.push("/".concat(ae.a,"/enquiries/new"))},openEditEnquiryPage:function(e){t.push("/".concat(ae.a,"/enquiries/").concat(e,"/edit"))},openDeleteEnquiryDialog:function(e){t.push("/".concat(ae.a,"/enquiries/").concat(e,"/delete"))},openDeleteEnquiriesDialog:function(){t.push("/".concat(ae.a,"/enquiries/deleteEnquiries"))},openFetchEnquiriesDialog:function(){t.push("/".concat(ae.a,"/enquiries/fetch"))},openUpdateEnquiriesStatusDialog:function(){t.push("/"+ae.a+"/enquiries/updateStatus")}};return r.a.createElement(w,{enquiriesUIEvents:a},r.a.createElement(o,null),r.a.createElement(i.b,{path:"/"+ae.a+"/enquiries/deleteEnquiries"},(function(e){var t=e.history,a=e.match;return r.a.createElement(L,{show:null!=a,onHide:function(){t.push("/"+ae.a+"/enquiries")}})})),r.a.createElement(i.b,{path:"/"+ae.a+"/enquiries/:id/delete"},(function(e){var t=e.history,a=e.match;return r.a.createElement(I,{show:null!=a,id:a&&a.params.id,onHide:function(){t.push("/"+ae.a+"/enquiries")}})})),r.a.createElement(i.b,{path:"/"+ae.a+"/enquiries/fetch"},(function(e){var t=e.history,a=e.match;return r.a.createElement(B,{show:null!=a,onHide:function(){t.push("/"+ae.a+"/enquiries")}})})),r.a.createElement(i.b,{path:"/"+ae.a+"/enquiries/updateStatus"},(function(e){var t=e.history,a=e.match;return r.a.createElement(U,{show:null!=a,onHide:function(){t.push("/"+ae.a+"/enquiries")}})})),r.a.createElement(te,null))}var re=a(45),ie=a(28),ce=a(1040),le=a(1041),oe=Object(le.b)(ce.a),ue=ie.d().shape({part_number:ie.f().min(2,"Minimum 2 symbols").max(50,"Maximum 50 symbols").required("Part number is required"),alt_part_number:ie.f().min(2,"Minimum 2 symbols").max(50,"Maximum 50 symbols").required("Alt part number is required")});function se(e){var t=e.enquiry,a=e.btnRef,i=e.saveEnquiry,c=Object(n.useState)([]),o=Object(O.a)(c,2),u=o[0],s=o[1],m=Object(n.useState)([]),d=Object(O.a)(m,2),f=d[0],p=d[1],E=Object(n.useState)([]),b=Object(O.a)(E,2),g=b[0],y=b[1],h=Object(n.useState)(!1),q=Object(O.a)(h,2),v=q[0],C=q[1];function N(e){Object(ae.f)("enquiry-category",{name:e}).then((function(e){s([].concat(Object(re.a)(u),[{label:e.name,value:e.id}]))}))}function j(e){Object(ae.f)("manufacturer",{name:e}).then((function(e){s([].concat(Object(re.a)(f),[{label:e.name,value:e.id}]))}))}return Object(n.useEffect)((function(){Object(ae.f)("oas-models",{models:{Manufacturer:{},Supplier:{},EnquiryCategory:{}}}).then((function(e){var t=function(t){e.data[t].map((function(a,n){e.data[t][n].label=a.name?a.name:a.company_name,e.data[t][n].value=a.id}))};for(var a in e.data)t(a);s(e.data.EnquiryCategory),p(e.data.Manufacturer),y(e.data.Supplier),C(!0)}))}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(A.c,{enableReinitialize:!0,initialValues:t,validationSchema:ue,onSubmit:function(e){i(e)}},(function(e){var t=e.handleSubmit;return r.a.createElement(r.a.Fragment,null,r.a.createElement(A.b,{className:"form form-label-right"},r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col-lg-4"},r.a.createElement(A.a,{name:"part_number",component:l.f,placeholder:"e.g AB123",label:"Part Number"})),r.a.createElement("div",{className:"col-lg-4"},r.a.createElement(A.a,{name:"alt_part_number",component:l.f,placeholder:"e.g AB123",label:"Alternative Part Number"})),r.a.createElement("div",{className:"col-lg-4"},r.a.createElement("label",null,"Select Category"),r.a.createElement(oe,{debounceTimeout:v?0:ae.b,name:"enquiry_category",onCreateOption:N,isClearable:!0,loadOptions:function(e,t){return Object(ae.d)(e,t,u,v)}}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col-lg-4"},r.a.createElement("label",null,"Select Manufacturer"),r.a.createElement(oe,{debounceTimeout:v?0:ae.b,isClearable:!0,name:"enquiry_manufacturer",onCreateOption:j,loadOptions:function(e,t){return Object(ae.d)(e,t,f,v)}})),r.a.createElement("div",{className:"col-lg-4"},r.a.createElement("label",null,"Select Supplier"),r.a.createElement(le.a,{debounceTimeout:v?0:ae.b,isClearable:!0,name:"supplier",loadOptions:function(e,t){return Object(ae.d)(e,t,g,v)}})),r.a.createElement("div",{className:"col-lg-4"},r.a.createElement(l.k,{name:"condition",label:"Condition"},D.map((function(e,t){return r.a.createElement("option",{key:e,value:e},e)}))))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col-lg-4"},r.a.createElement(A.a,{name:"quantity",component:l.f,placeholder:"Default 0",label:"Quantity"})),r.a.createElement("div",{className:"col-lg-4"},r.a.createElement(A.a,{name:"tag_date",component:l.f,placeholder:"",label:"Tag Date"})),r.a.createElement("div",{className:"col-lg-4"},r.a.createElement(A.a,{name:"turn_around_time",component:l.f,placeholder:"",label:"Turn around time"}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col-lg-4"},r.a.createElement(l.k,{name:"hazmat",label:"Hazmat"},F.map((function(e,t){return r.a.createElement("option",{key:e,value:e},e)})))),r.a.createElement("div",{className:"col-lg-4"},r.a.createElement(A.a,{name:"certification",component:l.f,placeholder:"",label:"Certification"})),r.a.createElement("div",{className:"col-lg-4"},r.a.createElement(l.k,{name:"unit_of_measure",label:"Unit of measure"},T.map((function(e,t){return r.a.createElement("option",{key:e,value:e},e)}))))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col-lg-4"},r.a.createElement(A.a,{name:"unit_price",component:l.f,placeholder:"",label:"Unit price"})),r.a.createElement("div",{className:"col-lg-4"},r.a.createElement(l.k,{name:"hot_sale_item",label:"Hot sale item"},F.map((function(e,t){return r.a.createElement("option",{key:e,value:e},e)})))),r.a.createElement("div",{className:"col-lg-4"},r.a.createElement(l.k,{name:"status",label:"Status"},k.map((function(e,t){return r.a.createElement("option",{key:e,value:t},e)}))))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Description"),r.a.createElement(A.a,{name:"description",as:"textarea",className:"form-control"})),r.a.createElement("button",{type:"submit",style:{display:"none"},ref:a,onSubmit:function(){return t()}})))})))}var me=Object(n.createContext)();me.Consumer;a(1034);ie.d().shape({value:ie.f().min(2,"Minimum 2 symbols").max(50,"Maximum 50 symbols").required("Value is required"),specId:ie.c().required("Specification type is required")});var de=a(18),fe=Object(n.createContext)();fe.Consumer;a(1035);ie.d().shape({text:ie.f().min(2,"Minimum 2 symbols").max(50,"Maximum 50 symbols").required("Text is required"),type:ie.c().required("Type is required"),dueDate:ie.b().nullable(!1).required("Due date is required")});var pe={id:void 0,condition:"",enquiry_manufacturer:"",supplier:"",enquiry_category:"",part_number:"",alt_part_number:"",description:"",tag_date:"2021-12-12",status:0,hazmat:"",unit_price:0,unit_of_measure:"",quantity:0,turn_around_time:"",hot_sale_item:"",certification:""};function Ee(e){var t=e.history,a=e.match.params.id,i=Object(de.k)(),o=Object(n.useState)("basic"),u=Object(O.a)(o,2),s=(u[0],u[1],Object(n.useState)("")),m=Object(O.a)(s,2),d=m[0],f=m[1],p=Object(c.d)(),E=Object(c.e)((function(e){return{actionsLoading:e.enquiries.actionsLoading,enquiryForEdit:e.enquiries.enquiryForEdit}}),c.c),b=E.actionsLoading,y=E.enquiryForEdit;Object(n.useEffect)((function(){p(g(a))}),[a,p]),Object(n.useEffect)((function(){var e=a?"":"New Enquiry";y&&a&&(e="Edit enquiry - ".concat(y.part_number)),f(e),i.setTitle(e)}),[y,a]);var v=Object(n.useRef)(),C=function(){t.push("/".concat(ae.a,"/enquiries"))};return r.a.createElement(l.a,null,b&&r.a.createElement(l.h,null),r.a.createElement(l.c,{title:d},r.a.createElement(l.d,null,r.a.createElement("button",{type:"button",onClick:C,className:"btn btn-light"},r.a.createElement("i",{className:"fa fa-arrow-left"}),"Back"),"  ",r.a.createElement("button",{className:"btn btn-light ml-2"},r.a.createElement("i",{className:"fa fa-redo"}),"Reset"),"  ",r.a.createElement("button",{type:"submit",className:"btn btn-primary ml-2",onClick:function(){v&&v.current&&v.current.click()}},"Save"))),r.a.createElement(l.b,null,r.a.createElement("div",{className:"mt-5"},r.a.createElement(se,{actionsLoading:b,enquiry:y||pe,btnRef:v,saveEnquiry:function(e){console.log("values",e),a?p(q(e)).then((function(){return C()})):p(h(e)).then((function(){return C()}))}}))))}function be(){return r.a.createElement(n.Suspense,{fallback:r.a.createElement(de.c,null)},r.a.createElement(i.d,null,r.a.createElement(de.a,{path:"/"+ae.a+"/enquiries/new",component:Ee}),r.a.createElement(de.a,{path:"/"+ae.a+"/enquiries/:id/edit",component:Ee}),r.a.createElement(de.a,{path:"/"+ae.a+"/enquiries",component:ne})))}a.d(t,"default",(function(){return be}))}}]);
//# sourceMappingURL=6.d965af61.chunk.js.map