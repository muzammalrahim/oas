(this.webpackJsonpdemo3=this.webpackJsonpdemo3||[]).push([[7],{1083:function(e,t,a){"use strict";var n=a(40),r=a.n(n);var c=a(350);a.d(t,"e",(function(){return o})),a.d(t,"d",(function(){return i})),a.d(t,"b",(function(){return u})),a.d(t,"a",(function(){return s})),a.d(t,"f",(function(){return m})),a.d(t,"c",(function(){return d}));var l=c.b.actions,o=function(e,t){return function(a){return a(l.startCall({callType:c.a.list})),t?function(e,t){return r.a.post("".concat("api/specifications","find/").concat(t),{queryParams:e})}(e,t).then((function(e){var t=e.data,n=t.totalCount,r=t.entities;a(l.specificationsFetched({totalCount:n,entities:r}))})).catch((function(e){e.clientMessage="Can't find specifications",a(l.catchError({error:e,callType:c.a.list}))})):a(l.specificationsFetched({totalCount:0,entities:null}))}},i=function(e){return function(t){return e?(t(l.startCall({callType:c.a.action})),(a=e,r.a.get("".concat("api/specifications","/").concat(a))).then((function(e){var a=e.data;t(l.specificationFetched({specificationForEdit:a}))})).catch((function(e){e.clientMessage="Can't find specification",t(l.catchError({error:e,callType:c.a.action}))}))):t(l.specificationFetched({specificationForEdit:void 0}));var a}},u=function(e){return function(t){return t(l.startCall({callType:c.a.action})),(a=e,r.a.delete("".concat("api/specifications","/").concat(a))).then((function(a){t(l.specificationDeleted({id:e}))})).catch((function(e){e.clientMessage="Can't delete specification",t(l.catchError({error:e,callType:c.a.action}))}));var a}},s=function(e){return function(t){return t(l.startCall({callType:c.a.action})),(a=e,r.a.post("api/specifications",{specification:a})).then((function(e){var a=e.data.specification;t(l.specificationCreated({specification:a}))})).catch((function(e){e.clientMessage="Can't create specification",t(l.catchError({error:e,callType:c.a.action}))}));var a}},m=function(e){return function(t){return t(l.startCall({callType:c.a.action})),function(e){return r.a.put("".concat("api/specifications","/").concat(e.id),{specification:e})}(e).then((function(){t(l.specificationUpdated({specification:e}))})).catch((function(e){e.clientMessage="Can't update specification",t(l.catchError({error:e,callType:c.a.action}))}))}},d=function(e){return function(t){return t(l.startCall({callType:c.a.action})),function(e){return r.a.post("".concat("api/specifications","/deleteSpecifications"),{ids:e})}(e).then((function(){t(l.specificationsDeleted({ids:e}))})).catch((function(e){e.clientMessage="Can't delete specifications",t(l.catchError({error:e,callType:c.a.action}))}))}}},1084:function(e,t,a){"use strict";var n=a(40),r=a.n(n);var c=a(349);a.d(t,"e",(function(){return o})),a.d(t,"d",(function(){return i})),a.d(t,"b",(function(){return u})),a.d(t,"a",(function(){return s})),a.d(t,"f",(function(){return m})),a.d(t,"c",(function(){return d}));var l=c.b.actions,o=function(e,t){return function(a){return a(l.startCall({callType:c.a.list})),t?function(e,t){return r.a.post("".concat("api/remarks","find/").concat(t),{queryParams:e})}(e,t).then((function(e){var t=e.data,n=t.totalCount,r=t.entities;a(l.remarksFetched({totalCount:n,entities:r}))})).catch((function(e){e.clientMessage="Can't find remarks",a(l.catchError({error:e,callType:c.a.list}))})):a(l.remarksFetched({totalCount:0,entities:null}))}},i=function(e){return function(t){return e?(t(l.startCall({callType:c.a.action})),(a=e,r.a.get("".concat("api/remarks","/").concat(a))).then((function(e){var a=e.data;t(l.remarkFetched({remarkForEdit:a}))})).catch((function(e){e.clientMessage="Can't find remark",t(l.catchError({error:e,callType:c.a.action}))}))):t(l.remarkFetched({remarkForEdit:void 0}));var a}},u=function(e){return function(t){return t(l.startCall({callType:c.a.action})),(a=e,r.a.delete("".concat("api/remarks","/").concat(a))).then((function(a){t(l.remarkDeleted({id:e}))})).catch((function(e){e.clientMessage="Can't delete remark",t(l.catchError({error:e,callType:c.a.action}))}));var a}},s=function(e){return function(t){return t(l.startCall({callType:c.a.action})),(a=e,r.a.post("api/remarks",{remark:a})).then((function(e){var a=e.data.remark;t(l.remarkCreated({remark:a}))})).catch((function(e){e.clientMessage="Can't create remark",t(l.catchError({error:e,callType:c.a.action}))}));var a}},m=function(e){return function(t){return t(l.startCall({callType:c.a.action})),function(e){return r.a.put("".concat("api/remarks","/").concat(e.id),{remark:e})}(e).then((function(){t(l.remarkUpdated({remark:e}))})).catch((function(e){e.clientMessage="Can't update remark",t(l.catchError({error:e,callType:c.a.action}))}))}},d=function(e){return function(t){return t(l.startCall({callType:c.a.action})),function(e){return r.a.post("".concat("api/remarks","/deleteRemarks"),{ids:e})}(e).then((function(){console.log("delete return"),t(l.remarksDeleted({ids:e}))})).catch((function(e){e.clientMessage="Can't delete remarks",t(l.catchError({error:e,callType:c.a.action}))}))}}},1118:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(142),l=a(18),o=a(26);function i(){var e=Object(l.e)((function(e){return{isLoading:e.products.listLoading}}),l.c).isLoading;return Object(n.useEffect)((function(){}),[e]),r.a.createElement(o.g,{isLoading:e,text:"Loading ..."})}var u=a(1072),s=a(28),m=a(40),d=a.n(m),p="https://shop.oas.aero/api/v1/inventory";var f=a(426),b=f.b.actions,E=function(e){return function(t){return t(b.startCall({callType:f.a.list})),function(e){var t=e.filter;return d.a.get(p,{params:t})}(e).then((function(e){var a=e.data,n=a.count,r=a.results;t(b.productsFetched({count:n,results:r}))})).catch((function(e){e.clientMessage="Can't find products",t(b.catchError({error:e,callType:f.a.list}))}))}},g=function(e){return function(t){return e?(t(b.startCall({callType:f.a.action})),(a=e,d.a.get("".concat(p,"/").concat(a))).then((function(e){var a=Object(s.a)(Object(s.a)({},e.data),{},{supplier:e.data.supplier?e.data.supplier.id:"",product_manufacturer:e.data.product_manufacturer?e.data.product_manufacturer.id:"",product_category:e.data.product_category?e.data.product_category.id:""});t(b.productFetched({productForEdit:a}))})).catch((function(e){e.clientMessage="Can't find product",t(b.catchError({error:e,callType:f.a.action}))}))):t(b.productFetched({productForEdit:void 0}));var a}},h=function(e){return function(t){return t(b.startCall({callType:f.a.action})),(a=e,d.a.delete("".concat(p,"/").concat(a))).then((function(a){t(b.productDeleted({id:e}))})).catch((function(e){e.clientMessage="Can't delete product",t(b.catchError({error:e,callType:f.a.action}))}));var a}},v=function(e){return function(t){return t(b.startCall({callType:f.a.action})),(a=e,d.a.post(p+"/",Object(s.a)({},a))).then((function(e){var a=e.data;t(b.productCreated({product:a}))})).catch((function(e){e.clientMessage="Can't create product",t(b.catchError({error:e,callType:f.a.action}))}));var a}},y=function(e){return function(t){return t(b.startCall({callType:f.a.action})),console.log("proudct",e),function(e){return d.a.put("".concat(p,"/").concat(e.id,"/"),Object(s.a)({},e))}(e).then((function(){t(b.productUpdated({product:e}))})).catch((function(e){e.clientMessage="Can't update product",t(b.catchError({error:e,callType:f.a.action}))}))}},P=function(e,t){return function(a){return a(b.startCall({callType:f.a.action})),function(e,t){return d.a.post("".concat(p,"/updateStatusForProducts"),{ids:e,status:t})}(e,t).then((function(){a(b.productsStatusUpdated({ids:e,status:t}))})).catch((function(e){e.clientMessage="Can't update products status",a(b.catchError({error:e,callType:f.a.action}))}))}},C=function(e){return function(t){return t(b.startCall({callType:f.a.action})),function(e){return d.a.post("".concat(p,"/delete-all/"),{ids:e})}(e).then((function(){t(b.productsDeleted({ids:e}))})).catch((function(e){e.clientMessage="Can't delete products",t(b.catchError({error:e,callType:f.a.action}))}))}},N=a(16),O=a(55),j=["danger","success","info",""],k=["Inactive","Active"],F=["success","danger",""],_=["NE","NS","SV","AR","FN","US","RP"],D=["YES","NO"],x=["CM","BOX","KG"],S=[{dataField:"id",order:"asc"}],T=[{text:"3",value:3},{text:"5",value:5},{text:"10",value:10}],q={filter:{model:"",manufacture:"",VINCode:""},sortOrder:"asc",sortField:"VINCode",pageNumber:1,pageSize:10},M=Object(n.createContext)();function w(){return Object(n.useContext)(M)}M.Consumer;function I(e){var t=e.productsUIEvents,a=e.children,c=Object(n.useState)(q),l=Object(N.a)(c,2),o=l[0],i=l[1],u=Object(n.useState)([]),s=Object(N.a)(u,2),m=s[0],d=s[1],p=Object(n.useCallback)((function(e){i((function(t){return Object(O.isFunction)(e)&&(e=e(t)),Object(O.isEqual)(t,e)?t:e}))}),[]),f={queryParams:o,setQueryParamsBase:i,ids:m,setIds:d,setQueryParams:p,newProductButtonClick:t.newProductButtonClick,openEditProductPage:t.openEditProductPage,openDeleteProductDialog:t.openDeleteProductDialog,openDeleteProductsDialog:t.openDeleteProductsDialog,openFetchProductsDialog:t.openFetchProductsDialog,openUpdateProductsStatusDialog:t.openUpdateProductsStatusDialog};return r.a.createElement(M.Provider,{value:f},a)}function z(e){var t=e.id,a=e.show,c=e.onHide,i=w(),s=Object(n.useMemo)((function(){return{setIds:i.setIds,queryParams:i.queryParams}}),[i]),m=Object(l.d)(),d=Object(l.e)((function(e){return{isLoading:e.products.actionsLoading}}),l.c).isLoading;Object(n.useEffect)((function(){t||c()}),[t]),Object(n.useEffect)((function(){}),[d,m]);return r.a.createElement(u.a,{show:a,onHide:c,"aria-labelledby":"example-modal-sizes-title-lg"},d&&r.a.createElement(o.h,{variant:"query"}),r.a.createElement(u.a.Header,{closeButton:!0},r.a.createElement(u.a.Title,{id:"example-modal-sizes-title-lg"},"Product Delete")),r.a.createElement(u.a.Body,null,!d&&r.a.createElement("span",null,"Are you sure to permanently delete this product?"),d&&r.a.createElement("span",null,"Product is deleting...")),r.a.createElement(u.a.Footer,null,r.a.createElement("div",null,r.a.createElement("button",{type:"button",onClick:c,className:"btn btn-light btn-elevate"},"Cancel"),r.a.createElement(r.a.Fragment,null," "),r.a.createElement("button",{type:"button",onClick:function(){m(h(t)).then((function(){m(E(s.queryParams)),s.setIds([]),c()}))},className:"btn btn-danger btn-elevate"},"Delete"))))}function B(e){var t=e.show,a=e.onHide,c=w(),i=Object(n.useMemo)((function(){return{ids:c.ids,setIds:c.setIds,queryParams:c.queryParams}}),[c]),s=Object(l.d)(),m=Object(l.e)((function(e){return{isLoading:e.products.actionsLoading}}),l.c).isLoading;Object(n.useEffect)((function(){}),[m,s]),Object(n.useEffect)((function(){i.ids&&0!==i.ids.length||a()}),[i.ids]);return r.a.createElement(u.a,{show:t,onHide:a,"aria-labelledby":"example-modal-sizes-title-lg"},m&&r.a.createElement(o.h,null),r.a.createElement(u.a.Header,{closeButton:!0},r.a.createElement(u.a.Title,{id:"example-modal-sizes-title-lg"},"Products Delete")),r.a.createElement(u.a.Body,null,!m&&r.a.createElement("span",null,"Are you sure to permanently delete selected products?"),m&&r.a.createElement("span",null,"Products are deleting...")),r.a.createElement(u.a.Footer,null,r.a.createElement("div",null,r.a.createElement("button",{type:"button",onClick:a,className:"btn btn-light btn-elevate"},"Cancel"),r.a.createElement(r.a.Fragment,null," "),r.a.createElement("button",{type:"button",onClick:function(){s(C(i.ids)).then((function(){s(E(i.queryParams)).then((function(){i.setIds([]),a()}))}))},className:"btn btn-danger btn-elevate"},"Delete"))))}var H=function(e,t){var a=[];return t.forEach((function(t){var n=e.find((function(e){return e.id===t}));n&&a.push(n)})),a};function L(e){var t=e.show,a=e.onHide,c=w(),o=Object(n.useMemo)((function(){return{ids:c.ids,queryParams:c.queryParams}}),[c]),i=Object(l.e)((function(e){return{products:H(e.products.entities,o.ids)}}),l.c).products;return Object(n.useEffect)((function(){o.ids&&0!==o.ids.length||a()}),[o.ids]),r.a.createElement(u.a,{show:t,onHide:a,"aria-labelledby":"example-modal-sizes-title-lg"},r.a.createElement(u.a.Header,{closeButton:!0},r.a.createElement(u.a.Title,{id:"example-modal-sizes-title-lg"},"Fetch selected elements")),r.a.createElement(u.a.Body,null,r.a.createElement("div",{className:"list-timeline list-timeline-skin-light padding-30"},r.a.createElement("div",{className:"list-timeline-items"},i.map((function(e){return r.a.createElement("div",{className:"list-timeline-item mb-3",key:e.id},r.a.createElement("span",{className:"list-timeline-text"},r.a.createElement("span",{className:"label label-lg label-light-".concat(j[e.status]," label-inline"),style:{width:"60px"}},"ID: ",e.id)," ",r.a.createElement("span",{className:"ml-5"},e.manufacture,", ",e.model)))}))))),r.a.createElement(u.a.Footer,null,r.a.createElement("div",null,r.a.createElement("button",{type:"button",onClick:a,className:"btn btn-light btn-elevate"},"Cancel"),r.a.createElement(r.a.Fragment,null," "),r.a.createElement("button",{type:"button",onClick:a,className:"btn btn-primary btn-elevate"},"Ok"))))}var U=function(e,t){var a=[];return t.forEach((function(t){var n=e.find((function(e){return e.id===t}));n&&a.push(n)})),a};function A(e){var t=e.show,a=e.onHide,c=w(),o=Object(n.useMemo)((function(){return{ids:c.ids,setIds:c.setIds,queryParams:c.queryParams}}),[c]),i=Object(l.e)((function(e){return{products:U(e.products.entities,o.ids),isLoading:e.products.actionsLoading}}),l.c),s=i.products,m=i.isLoading;Object(n.useEffect)((function(){(o.ids||0===o.ids.length)&&a()}),[o.ids]);var d=Object(n.useState)(0),p=Object(N.a)(d,2),f=p[0],b=p[1],g=Object(l.d)();return r.a.createElement(u.a,{show:t,onHide:a,"aria-labelledby":"example-modal-sizes-title-lg"},r.a.createElement(u.a.Header,{closeButton:!0},r.a.createElement(u.a.Title,{id:"example-modal-sizes-title-lg"},"Status has been updated for selected products")),r.a.createElement(u.a.Body,{className:"overlay overlay-block cursor-default"},m&&r.a.createElement("div",{className:"overlay-layer bg-transparent"},r.a.createElement("div",{className:"spinner spinner-lg spinner-warning"})),r.a.createElement("div",{className:"list-timeline list-timeline-skin-light padding-30"},r.a.createElement("div",{className:"list-timeline-items"},s.map((function(e){return r.a.createElement("div",{className:"list-timeline-item mb-3",key:e.id},r.a.createElement("span",{className:"list-timeline-text"},r.a.createElement("span",{className:"label label-lg label-light-".concat(j[e.status]," label-inline"),style:{width:"60px"}},"ID: ",e.id)," ",r.a.createElement("span",{className:"ml-5"},e.manufacture,", ",e.model)))}))))),r.a.createElement(u.a.Footer,{className:"form"},r.a.createElement("div",{className:"form-group"},r.a.createElement("select",{className:"form-control ".concat(j[f]),value:f,onChange:function(e){return b(+e.target.value)}},r.a.createElement("option",{value:"0"},"Selling"),r.a.createElement("option",{value:"1"},"Sold"))),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{type:"button",onClick:a,className:"btn btn-light btn-elevate"},"Cancel"),r.a.createElement(r.a.Fragment,null," "),r.a.createElement("button",{type:"button",onClick:function(){g(P(o.ids,f)).then((function(){g(E(o.queryParams)).then((function(){o.setIds([]),a()}))}))},className:"btn btn-primary btn-elevate"},"Update Status"))))}var Q=a(39);function R(e){e.listLoading;var t=w(),a=Object(n.useMemo)((function(){return{setQueryParams:t.setQueryParams,queryParams:t.queryParams}}),[t]),c=function(e){var t=function(e,t){var a=t.status,n=t.condition,r=t.hazmat,c=t.unit_of_measure,l=t.hot_sale_item,o=t.searchText,i=Object(s.a)({},e),u={};return u.status=""!==a?a:void 0,u.condition=""!==n?n:void 0,u.unit_of_measure=""!==c?c:void 0,u.hot_sale_item=""!==l?l:void 0,u.hazmat=""!==r?r:void 0,u.search=o,i.filter=u,i}(a.queryParams,e);Object(O.isEqual)(t,a.queryParams)||(t.pageNumber=1,a.setQueryParams(t))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Q.c,{initialValues:{status:"",condition:"",searchText:"",hazmat:"",unit_of_measure:"",hot_sale_item:""},onSubmit:function(e){c(e)}},(function(e){var t=e.values,a=e.handleSubmit,n=e.handleBlur,c=(e.handleChange,e.setFieldValue);return r.a.createElement("form",{onSubmit:a,className:"form form-label-right"},r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col-lg-2"},r.a.createElement("select",{className:"form-control",name:"status",placeholder:"Filter by Status",onChange:function(e){c("status",e.target.value),a()},onBlur:n,value:t.status},r.a.createElement("option",{value:""},"All"),r.a.createElement("option",{value:"0"},"Inactive"),r.a.createElement("option",{value:"1"},"Active")),r.a.createElement("small",{className:"form-text text-muted"},r.a.createElement("b",null,"Filter")," by Status")),r.a.createElement("div",{className:"col-lg-2"},r.a.createElement("select",{className:"form-control",placeholder:"Filter by condition",name:"condition",onBlur:n,onChange:function(e){c("condition",e.target.value),a()},value:t.condition},r.a.createElement("option",{value:""},"All"),_.map((function(e,t){return r.a.createElement("option",{key:t,value:e},e)}))),r.a.createElement("small",{className:"form-text text-muted"},r.a.createElement("b",null,"Filter")," by Condition")),r.a.createElement("div",{className:"col-lg-2"},r.a.createElement("select",{className:"form-control",placeholder:"Filter by UOM",name:"unit_of_measure",onBlur:n,onChange:function(e){c("unit_of_measure",e.target.value),a()},value:t.unit_of_measure},r.a.createElement("option",{value:""},"All"),x.map((function(e,t){return r.a.createElement("option",{key:t,value:e},e)}))),r.a.createElement("small",{className:"form-text text-muted"},r.a.createElement("b",null,"Filter")," by UOM")),r.a.createElement("div",{className:"col-lg-2"},r.a.createElement("select",{className:"form-control",placeholder:"Filter by Hazmat",name:"hazmat",onBlur:n,onChange:function(e){c("hazmat",e.target.value),a()},value:t.hazmat},r.a.createElement("option",{value:""},"All"),D.map((function(e,t){return r.a.createElement("option",{key:t,value:e},e)}))),r.a.createElement("small",{className:"form-text text-muted"},r.a.createElement("b",null,"Filter")," by Hazmat")),r.a.createElement("div",{className:"col-lg-2"},r.a.createElement("select",{className:"form-control",placeholder:"Filter by Hot Sale Item",name:"hot_sale_item",onBlur:n,onChange:function(e){c("hot_sale_item",e.target.value),a()},value:t.hot_sale_item},r.a.createElement("option",{value:""},"All"),D.map((function(e,t){return r.a.createElement("option",{key:t,value:e},e)}))),r.a.createElement("small",{className:"form-text text-muted"},r.a.createElement("b",null,"Filter")," by Hot Sale Item")),r.a.createElement("div",{className:"col-lg-2"},r.a.createElement("input",{type:"text",className:"form-control",name:"searchText",placeholder:"Search",onBlur:n,value:t.searchText,onChange:function(e){c("searchText",e.target.value),a()}}),r.a.createElement("small",{className:"form-text text-muted"},r.a.createElement("b",null,"Search")," in all fields"))))})))}var V=a(226),G=a.n(V),J=a(191),W=a.n(J),K=a(3),X=function(e,t){return r.a.createElement("span",{className:"label label-lg label-light-".concat(j[t.status]," label-inline")},k[t.status])},Y=function(e,t){return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"badge badge-".concat("info"," badge-dot")}),"\xa0",r.a.createElement("span",{className:"font-bold font-".concat(F[t.condition])},t.condition.toUpperCase()))},Z=a(1078),$=a(1066),ee=a(6),te=a.n(ee),ae=function(e,t,a,n){var c=n.openEditProductPage,l=n.openDeleteProductDialog;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Z.a,{overlay:r.a.createElement($.a,{id:"products-edit-tooltip"},"Edit product")},r.a.createElement("a",{className:"btn btn-icon btn-light btn-hover-primary btn-sm mx-3",onClick:function(){return c(t.id)}},r.a.createElement("span",{className:"svg-icon svg-icon-md svg-icon-primary"},r.a.createElement(te.a,{src:Object(K.i)("/static/media/svg/icons/Communication/Write.svg")})))),r.a.createElement(r.a.Fragment,null," "),r.a.createElement(Z.a,{overlay:r.a.createElement($.a,{id:"products-delete-tooltip"},"Delete product")},r.a.createElement("a",{className:"btn btn-icon btn-light btn-hover-danger btn-sm",onClick:function(){return l(t.id)}},r.a.createElement("span",{className:"svg-icon svg-icon-md svg-icon-danger"},r.a.createElement(te.a,{src:Object(K.i)("/static/media/svg/icons/General/Trash.svg")})))))};function ne(){var e=w(),t=Object(n.useMemo)((function(){return{ids:e.ids,setIds:e.setIds,queryParams:e.queryParams,setQueryParams:e.setQueryParams,openEditProductPage:e.openEditProductPage,openDeleteProductDialog:e.openDeleteProductDialog}}),[e]),a=Object(l.e)((function(e){return{currentState:e.products}}),l.c).currentState,c=a.totalCount,i=a.entities,u=a.listLoading,s=Object(l.d)();Object(n.useEffect)((function(){t.setIds([]),s(E(t.queryParams))}),[t.queryParams,s]);var m=[{dataField:"part_number",text:"PN",sort:!0,sortCaret:K.h},{dataField:"alt_part_number",text:"Alt PN",sort:!0,sortCaret:K.h},{dataField:"condition",text:"Condition",sort:!0,sortCaret:K.h,formatter:Y},{dataField:"product_category.name",text:"Category",sort:!0,sortCaret:K.h},{dataField:"product_manufacturer.name",text:"Manufacturer",sort:!0,sortCaret:K.h},{dataField:"supplier.company_name",text:"Supplier",sort:!0,sortCaret:K.h},{dataField:"status",text:"Status",sort:!0,sortCaret:K.h,formatter:X},{dataField:"unit_price",text:"Unit Price",sort:!0,sortCaret:K.h},{dataField:"action",text:"Actions",formatter:ae,formatExtraData:{openEditProductPage:t.openEditProductPage,openDeleteProductDialog:t.openDeleteProductDialog},classes:"text-right pr-0",headerClasses:"text-right pr-3",style:{minWidth:"100px"}}],d={custom:!0,totalSize:c,sizePerPageList:T,sizePerPage:t.queryParams.pageSize,page:t.queryParams.pageNumber};return r.a.createElement(r.a.Fragment,null,r.a.createElement(J.PaginationProvider,{pagination:W()(d)},(function(e){var a=e.paginationProps,n=e.paginationTableProps;return r.a.createElement(o.j,{isLoading:u,paginationProps:a},r.a.createElement(G.a,Object.assign({wrapperClasses:"table-responsive",classes:"table table-head-custom table-vertical-center overflow-hidden",bootstrap4:!0,bordered:!1,remote:!0,keyField:"id",data:i,columns:m,defaultSorted:S,onTableChange:Object(K.c)(t.setQueryParams),selectRow:Object(K.f)({entities:i,ids:t.ids,setIds:t.setIds})},n),r.a.createElement(K.b,{entities:i}),r.a.createElement(K.a,{entities:i})))})))}function re(){var e=w(),t=Object(n.useMemo)((function(){return{ids:e.ids,setIds:e.setIds,openDeleteProductsDialog:e.openDeleteProductsDialog,openFetchProductsDialog:e.openFetchProductsDialog,openUpdateProductsStatusDialog:e.openUpdateProductsStatusDialog}}),[e]);return r.a.createElement("div",{className:"form"},r.a.createElement("div",{className:"row align-items-center form-group-actions margin-top-20 margin-bottom-20"},r.a.createElement("div",{className:"col-xl-12"},r.a.createElement("div",{className:"form-group form-group-inline"},r.a.createElement("div",{className:"form-label form-label-no-wrap"},r.a.createElement("label",{className:"-font-bold font-danger-"},r.a.createElement("span",null,"Selected records count: ",r.a.createElement("b",null,t.ids.length)))),r.a.createElement("div",null,r.a.createElement("button",{type:"button",className:"btn btn-danger font-weight-bolder font-size-sm",onClick:t.openDeleteProductsDialog},r.a.createElement("i",{className:"fa fa-trash"})," Delete All"))))))}function ce(){var e=w(),t=Object(n.useMemo)((function(){return{ids:e.ids,queryParams:e.queryParams,setQueryParams:e.setQueryParams,newProductButtonClick:e.newProductButtonClick,openDeleteProductsDialog:e.openDeleteProductsDialog,openEditProductPage:e.openEditProductPage,openUpdateProductsStatusDialog:e.openUpdateProductsStatusDialog,openFetchProductsDialog:e.openFetchProductsDialog}}),[e]);return r.a.createElement(o.a,null,r.a.createElement(o.c,{title:"Products"},r.a.createElement(o.d,null,r.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:t.newProductButtonClick},"Add Product"))),r.a.createElement(o.b,null,r.a.createElement(R,null),t.ids.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement(re,null)),r.a.createElement(ne,null)))}var le=a(13);function oe(e){var t=e.history,a={newProductButtonClick:function(){t.push("/".concat(le.a,"/products/new"))},openEditProductPage:function(e){t.push("/".concat(le.a,"/products/").concat(e,"/edit"))},openDeleteProductDialog:function(e){t.push("/".concat(le.a,"/products/").concat(e,"/delete"))},openDeleteProductsDialog:function(){t.push("/".concat(le.a,"/products/deleteProducts"))},openFetchProductsDialog:function(){t.push("/".concat(le.a,"/products/fetch"))},openUpdateProductsStatusDialog:function(){t.push("/"+le.a+"/products/updateStatus")}};return r.a.createElement(I,{productsUIEvents:a},r.a.createElement(i,null),r.a.createElement(c.b,{path:"/"+le.a+"/products/deleteProducts"},(function(e){var t=e.history,a=e.match;return r.a.createElement(B,{show:null!=a,onHide:function(){t.push("/"+le.a+"/products")}})})),r.a.createElement(c.b,{path:"/"+le.a+"/products/:id/delete"},(function(e){var t=e.history,a=e.match;return r.a.createElement(z,{show:null!=a,id:a&&a.params.id,onHide:function(){t.push("/"+le.a+"/products")}})})),r.a.createElement(c.b,{path:"/"+le.a+"/products/fetch"},(function(e){var t=e.history,a=e.match;return r.a.createElement(L,{show:null!=a,onHide:function(){t.push("/"+le.a+"/products")}})})),r.a.createElement(c.b,{path:"/"+le.a+"/products/updateStatus"},(function(e){var t=e.history,a=e.match;return r.a.createElement(A,{show:null!=a,onHide:function(){t.push("/"+le.a+"/products")}})})),r.a.createElement(ce,null))}var ie=a(51),ue=a(37),se=a(1088),me=a(1090),de=Object(me.b)(se.a),pe=ue.d().shape({part_number:ue.f().min(2,"Minimum 2 symbols").max(50,"Maximum 50 symbols").required("Part number is required"),alt_part_number:ue.f().min(2,"Minimum 2 symbols").max(50,"Maximum 50 symbols").required("Alt part number is required")});function fe(e){var t=e.product,a=e.btnRef,c=e.saveProduct,l=Object(n.useState)([]),i=Object(N.a)(l,2),u=i[0],s=i[1],m=Object(n.useState)([]),d=Object(N.a)(m,2),p=d[0],f=d[1],b=Object(n.useState)([]),E=Object(N.a)(b,2),g=E[0],h=E[1],v=Object(n.useState)(!1),y=Object(N.a)(v,2),P=y[0],C=y[1];function O(e){Object(le.d)("product-category",{name:e}).then((function(e){s([].concat(Object(ie.a)(u),[{label:e.name,value:e.id}]))}))}function j(e){Object(le.d)("manufacturer",{name:e}).then((function(e){s([].concat(Object(ie.a)(p),[{label:e.name,value:e.id}]))}))}return Object(n.useEffect)((function(){Object(le.d)("oas-models",{models:{Manufacturer:{},Supplier:{},ProductCategory:{}}}).then((function(e){var t=function(t){e.data[t].map((function(a,n){e.data[t][n].label=a.name?a.name:a.company_name,e.data[t][n].value=a.id}))};for(var a in e.data)t(a);s(e.data.ProductCategory),f(e.data.Manufacturer),h(e.data.Supplier),C(!0)}))}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(Q.c,{enableReinitialize:!0,initialValues:t,validationSchema:pe,onSubmit:function(e){c(e)}},(function(e){var t=e.handleSubmit;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Q.b,{className:"form form-label-right"},r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col-lg-4"},r.a.createElement(Q.a,{name:"part_number",component:o.f,placeholder:"e.g AB123",label:"Part Number"})),r.a.createElement("div",{className:"col-lg-4"},r.a.createElement(Q.a,{name:"alt_part_number",component:o.f,placeholder:"e.g AB123",label:"Alternative Part Number"})),r.a.createElement("div",{className:"col-lg-4"},r.a.createElement("label",null,"Select Category"),r.a.createElement(de,{debounceTimeout:P?0:le.b,name:"product_category",onCreateOption:O,isClearable:!0,loadOptions:function(e,t){return Object(le.c)(e,t,u,P)}}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col-lg-4"},r.a.createElement("label",null,"Select Manufacturer"),r.a.createElement(de,{debounceTimeout:P?0:le.b,isClearable:!0,name:"product_manufacturer",onCreateOption:j,loadOptions:function(e,t){return Object(le.c)(e,t,p,P)}})),r.a.createElement("div",{className:"col-lg-4"},r.a.createElement("label",null,"Select Supplier"),r.a.createElement(me.a,{debounceTimeout:P?0:le.b,isClearable:!0,name:"supplier",loadOptions:function(e,t){return Object(le.c)(e,t,g,P)}})),r.a.createElement("div",{className:"col-lg-4"},r.a.createElement(o.k,{name:"condition",label:"Condition"},_.map((function(e,t){return r.a.createElement("option",{key:e,value:e},e)}))))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col-lg-4"},r.a.createElement(Q.a,{name:"quantity",component:o.f,placeholder:"Default 0",label:"Quantity"})),r.a.createElement("div",{className:"col-lg-4"},r.a.createElement(Q.a,{name:"tag_date",component:o.f,placeholder:"",label:"Tag Date"})),r.a.createElement("div",{className:"col-lg-4"},r.a.createElement(Q.a,{name:"turn_around_time",component:o.f,placeholder:"",label:"Turn around time"}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col-lg-4"},r.a.createElement(o.k,{name:"hazmat",label:"Hazmat"},D.map((function(e,t){return r.a.createElement("option",{key:e,value:e},e)})))),r.a.createElement("div",{className:"col-lg-4"},r.a.createElement(Q.a,{name:"certification",component:o.f,placeholder:"",label:"Certification"})),r.a.createElement("div",{className:"col-lg-4"},r.a.createElement(o.k,{name:"unit_of_measure",label:"Unit of measure"},x.map((function(e,t){return r.a.createElement("option",{key:e,value:e},e)}))))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col-lg-4"},r.a.createElement(Q.a,{name:"unit_price",component:o.f,placeholder:"",label:"Unit price"})),r.a.createElement("div",{className:"col-lg-4"},r.a.createElement(o.k,{name:"hot_sale_item",label:"Hot sale item"},D.map((function(e,t){return r.a.createElement("option",{key:e,value:e},e)})))),r.a.createElement("div",{className:"col-lg-4"},r.a.createElement(o.k,{name:"status",label:"Status"},k.map((function(e,t){return r.a.createElement("option",{key:e,value:t},e)}))))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Description"),r.a.createElement(Q.a,{name:"description",as:"textarea",className:"form-control"})),r.a.createElement("button",{type:"submit",style:{display:"none"},ref:a,onSubmit:function(){return t()}})))})))}var be=Object(n.createContext)();be.Consumer;a(1083);ue.d().shape({value:ue.f().min(2,"Minimum 2 symbols").max(50,"Maximum 50 symbols").required("Value is required"),specId:ue.c().required("Specification type is required")});var Ee=a(24),ge=Object(n.createContext)();ge.Consumer;a(1084);ue.d().shape({text:ue.f().min(2,"Minimum 2 symbols").max(50,"Maximum 50 symbols").required("Text is required"),type:ue.c().required("Type is required"),dueDate:ue.b().nullable(!1).required("Due date is required")});var he={id:void 0,condition:"",product_manufacturer:"",supplier:"",product_category:"",part_number:"",alt_part_number:"",description:"",tag_date:"2021-12-12",status:0,hazmat:"",unit_price:0,unit_of_measure:"",quantity:0,turn_around_time:"",hot_sale_item:"",certification:""};function ve(e){var t=e.history,a=e.match.params.id,c=Object(Ee.k)(),i=Object(n.useState)("basic"),u=Object(N.a)(i,2),s=(u[0],u[1],Object(n.useState)("")),m=Object(N.a)(s,2),d=m[0],p=m[1],f=Object(l.d)(),b=Object(l.e)((function(e){return{actionsLoading:e.products.actionsLoading,productForEdit:e.products.productForEdit}}),l.c),E=b.actionsLoading,h=b.productForEdit;Object(n.useEffect)((function(){f(g(a))}),[a,f]),Object(n.useEffect)((function(){var e=a?"":"New Product";h&&a&&(e="Edit product - ".concat(h.part_number)),p(e),c.setTitle(e)}),[h,a]);var P=Object(n.useRef)(),C=function(){t.push("/".concat(le.a,"/products"))};return r.a.createElement(o.a,null,E&&r.a.createElement(o.h,null),r.a.createElement(o.c,{title:d},r.a.createElement(o.d,null,r.a.createElement("button",{type:"button",onClick:C,className:"btn btn-light"},r.a.createElement("i",{className:"fa fa-arrow-left"}),"Back"),"  ",r.a.createElement("button",{className:"btn btn-light ml-2"},r.a.createElement("i",{className:"fa fa-redo"}),"Reset"),"  ",r.a.createElement("button",{type:"submit",className:"btn btn-primary ml-2",onClick:function(){P&&P.current&&P.current.click()}},"Save"))),r.a.createElement(o.b,null,r.a.createElement("div",{className:"mt-5"},r.a.createElement(fe,{actionsLoading:E,product:h||he,btnRef:P,saveProduct:function(e){console.log("values",e),a?f(y(e)).then((function(){return C()})):f(v(e)).then((function(){return C()}))}}))))}function ye(){return r.a.createElement(n.Suspense,{fallback:r.a.createElement(Ee.c,null)},r.a.createElement(c.d,null,r.a.createElement(Ee.a,{path:"/"+le.a+"/products/new",component:ve}),r.a.createElement(Ee.a,{path:"/"+le.a+"/products/:id/edit",component:ve}),r.a.createElement(Ee.a,{path:"/"+le.a+"/products",component:oe})))}a.d(t,"default",(function(){return ye}))}}]);
//# sourceMappingURL=7.468c0c08.chunk.js.map